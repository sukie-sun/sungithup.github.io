<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <meta name="keywords" content="hexo,ä¸ªäººåšå®¢,blog">
  <meta name="description" content="Sukieçš„ä¸ªäººåšå®¢">
  <meta http-equiv="x-dns-prefetch-control" content="on">
  <link rel="dns-prefetch" href="https://busuanzi.ibruce.info">
  
  <link rel="dns-prefetch" href="https://widget.daovoice.io">
  <link rel="dns-prefetch" href="https://widget-static-cdn.daovoice.io">
  <link rel="dns-prefetch" href="https://im.daovoice.io">
  
  
  <link rel="dns-prefetch" href="https://hm.baidu.com/">
  
  
  <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
  <link rel="dns-prefetch" href="https://api.github.com">
  <link rel="dns-prefetch" href="https://avatars3.githubusercontent.com">
  
  <link rel="stylesheet" type="text/css" href="/./style/main.d9e3dd.css">
	<link rel="shortcut icon" href="/favicon.ico" title="Favicon">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
	<title>Nginxå…¥é—¨å­¦ä¹ ï¼ˆäºŒï¼‰</title>
  
  <script>var _hmt=_hmt||[];(function(){var hm=document.createElement("script");hm.src="https://hm.baidu.com/hm.js?bc39ced90d9f89c71fda7b7d4ca8b638";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(hm,s);})();
  </script>
  
  
    <script>(function(i,s,o,g,r,a,m){i["DaoVoiceObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset="utf-8";m.parentNode.insertBefore(a,m)})(window,document,"script",('https:' == document.location.protocol ? 'https:' : 'http:') + "//widget.daovoice.io/widget/949e21d7.js","daovoice");daovoice('init',{app_id: "949e21d7"});daovoice('update');
  </script>
  
</head>
<body>
<canvas id="pattern-placeholder" height="230"></canvas>
<div class="navbar-header">
  <a class="blog-title" href="/">Sukieå±±è„‰</a>
  <a class="face-img" href="/">
    <img src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1545985146898&amp;di=2861af758f070858999b0a2a0e708388&amp;imgtype=0&amp;src=http%3A%2F%2Fb-ssl.duitang.com%2Fuploads%2Fitem%2F201610%2F11%2F20161011203442_eHhSV.jpeg">
  </a>
</div>
<main>
  <div class="article-title">
    
  
  <h1 class="title">
    Nginxå…¥é—¨å­¦ä¹ ï¼ˆäºŒï¼‰
  </h1>
  


    <ul class="article-info">
      <li>
        å‘å¸ƒ
        <time datetime="2018-12-19T16:00:00.000Z" itemprop="datePublished">2018-12-20</time>
      </li>
      <li>
        
    æ›´æ–° <time datetime="2019-01-28T07:49:37.060Z" itemprop="dateUpdated">2019-01-28</time>

      </li>
      <li id="busuanzi_container_page_pv">
        é˜…è¯» <span id="busuanzi_value_page_pv"></span>
      </li>
    </ul>
  </div>
  <div class="container">
    <div class="article">
      <div class="content">
        
        <p><code>2018å¹´12æœˆ20æ—¥  å‘¨å››  é˜´</code></p>
<h2 id="ä¸€ã€è™šæ‹Ÿä¸»æœº"><a href="#ä¸€ã€è™šæ‹Ÿä¸»æœº" class="headerlink" title="ä¸€ã€è™šæ‹Ÿä¸»æœº"></a>ä¸€ã€è™šæ‹Ÿä¸»æœº</h2><h3 id="1ã€ä»€ä¹ˆæ˜¯è™šæ‹Ÿä¸»æœºï¼Ÿ"><a href="#1ã€ä»€ä¹ˆæ˜¯è™šæ‹Ÿä¸»æœºï¼Ÿ" class="headerlink" title="1ã€ä»€ä¹ˆæ˜¯è™šæ‹Ÿä¸»æœºï¼Ÿ"></a>1ã€ä»€ä¹ˆæ˜¯è™šæ‹Ÿä¸»æœºï¼Ÿ</h3><p>ï¼ˆ1ï¼‰æ˜¯æŒ‡åœ¨ç½‘ç»œæœåŠ¡å™¨ä¸Šåˆ†å‡ºä¸€å®šçš„ç£ç›˜ç©ºé—´ï¼Œç§Ÿç»™ç”¨æˆ·ä»¥æ”¾ç½®ç«™ç‚¹ä»¥åŠåº”ç”¨ç©ºé—´ï¼Œå¹¶æä¾›å¿…è¦çš„å­˜å‚¨å’Œä¼ è¾“åŠŸèƒ½ã€‚</p>
<p>ï¼ˆ2ï¼‰æ˜¯è¢«è™šæ‹ŸåŒ–çš„é€»è¾‘ä¸»æœºï¼Œä¹Ÿå¯ç†è§£ä¸ºå°±æ˜¯æŠŠä¸€å°ç‰©ç†æœåŠ¡å™¨åˆ’åˆ†æˆå¤šä¸ªâ€œè™šæ‹Ÿâ€œçš„æœåŠ¡å™¨ï¼Œå„ä¸ªè™šæ‹Ÿä¸»æœºä¹‹é—´å®Œå…¨ç‹¬ç«‹ï¼Œå¯¹å¤–ç•Œå‘ˆç°çš„çŠ¶æ€ä¹ŸåŒå•ç‹¬ç‰©ç†ä¸»æœºè¡¨ç°å®Œå…¨ç›¸åŒã€‚</p>
<h3 id="2ã€è™šæ‹Ÿä¸»æœ‰å•¥ç‰¹ç‚¹ï¼Ÿ"><a href="#2ã€è™šæ‹Ÿä¸»æœ‰å•¥ç‰¹ç‚¹ï¼Ÿ" class="headerlink" title="2ã€è™šæ‹Ÿä¸»æœ‰å•¥ç‰¹ç‚¹ï¼Ÿ"></a>2ã€è™šæ‹Ÿä¸»æœ‰å•¥ç‰¹ç‚¹ï¼Ÿ</h3><p>ï¼ˆ1ï¼‰å¤šå°è™šæ‹Ÿä¸»æœºå…±äº«ä¸€å°çœŸå®ä¸»æœºèµ„æºï¼Œå¤§å¹…åº¦é™ä½äº†ç¡¬ä»¶ã€ç½‘ç»œç»´æŠ¤ã€é€šä¿¡çº¿è·¯ç­‰çš„è´¹ç”¨</p>
<p>ï¼ˆ2ï¼‰ä¹Ÿå¤§å¤§ç®€åŒ–äº†æœåŠ¡å™¨ç®¡ç†çš„å¤æ‚æ€§ï¼›</p>
<h3 id="3ã€è™šæ‹Ÿä¸»æœºæœ‰å“ªäº›ç±»åˆ«ï¼Ÿ"><a href="#3ã€è™šæ‹Ÿä¸»æœºæœ‰å“ªäº›ç±»åˆ«ï¼Ÿ" class="headerlink" title="3ã€è™šæ‹Ÿä¸»æœºæœ‰å“ªäº›ç±»åˆ«ï¼Ÿ"></a>3ã€è™šæ‹Ÿä¸»æœºæœ‰å“ªäº›ç±»åˆ«ï¼Ÿ</h3><p>ï¼ˆ1ï¼‰åŸºäºåŸŸå</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">http &#123; </span><br><span class="line">    upstream shsxt&#123; </span><br><span class="line">        server node01; </span><br><span class="line">        server node02; </span><br><span class="line">     &#125; </span><br><span class="line">	upstream bjsxt&#123; </span><br><span class="line">        server node03; </span><br><span class="line">     &#125; </span><br><span class="line">     </span><br><span class="line">     server &#123;    </span><br><span class="line">            listen 80; </span><br><span class="line">            //è®¿é—®sxt2.comçš„æ—¶å€™ï¼Œä¼šæŠŠè¯·æ±‚å¯¼åˆ°bjsxtçš„æœåŠ¡å™¨ç»„é‡Œ</span><br><span class="line">            server_name  sxt2.com;</span><br><span class="line">            location / &#123;</span><br><span class="line">                proxy_pass http://bjsxt;</span><br><span class="line">            &#125;</span><br><span class="line">      &#125; </span><br><span class="line">      server &#123; </span><br><span class="line">            listen 80; </span><br><span class="line">           //è®¿é—®sxt1.comçš„æ—¶å€™ï¼Œä¼šæŠŠè¯·æ±‚å¯¼åˆ°shsxtçš„æœåŠ¡å™¨ç»„é‡Œ</span><br><span class="line">            server_name  sxt1.com; </span><br><span class="line">            location / &#123;</span><br><span class="line">                proxy_pass http://shsxt;</span><br><span class="line">            &#125;</span><br><span class="line">      &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„ï¼š</p>
</blockquote>
<blockquote>
<p>ï¼ˆ1ï¼‰åŸºäºåŸŸåçš„è™šæ‹Ÿæœºä¸»æœº åœ¨æ¨¡æ‹Ÿåº”ç”¨åœºæ™¯æ—¶ï¼Œéœ€è¦åœ¨windowsç³»ç»Ÿçš„hostsæ–‡ä»¶é‡Œé…ç½®åŸŸåæ˜ å°„ã€‚</p>
<p>ï¼ˆC:\Windows\System32\drivers\etc\hosts     ç»™IPå–åˆ«åï¼‰</p>
<p>å¦‚ï¼š192.168.198.130   sxt1.com</p>
</blockquote>
<blockquote>
<p>ï¼ˆ2ï¼‰æ¯å°æœåŠ¡å™¨çš„Tomcatçš„ç«¯å£ä¸ä¸é…ç½®çš„listenä¸€è‡´ï¼Œé‚£ä¹ˆwindowsç³»ç»Ÿæµè§ˆå™¨è®¿é—®æ—¶ï¼Œéœ€è¦åŠ ä¸ŠTOmcatçš„ç«¯å£ï¼Œï¼ˆ192.168.198.128ï¼š8080ï¼‰</p>
<p>â€‹         å¦‚æœä¸€è‡´ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä¸åŠ Tomcatçš„ç«¯å£å› ä¸ºNginxæœåŠ¡å™¨é»˜è®¤ç«¯å£ä¸º80</p>
</blockquote>
<p>ï¼ˆ2ï¼‰åŸºäºç«¯å£</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">http &#123; </span><br><span class="line">    upstream shsxt&#123; </span><br><span class="line">        server node01; </span><br><span class="line">        server node02; </span><br><span class="line">     &#125; </span><br><span class="line">	upstream bjsxt&#123; </span><br><span class="line">        server node03</span><br><span class="line">    &#125; </span><br><span class="line"> server &#123; </span><br><span class="line">       //å½“è®¿é—®nginxçš„80ç«¯å£æ—¶ï¼Œå°†è¯·æ±‚å¯¼ç»™bjsxtç»„</span><br><span class="line">        listen 8080; </span><br><span class="line">        server_name 192.168.198.128;</span><br><span class="line">        location / &#123;</span><br><span class="line">            proxy_pass http://bjsxt;</span><br><span class="line">        &#125;</span><br><span class="line">&#125; </span><br><span class="line">  server &#123; </span><br><span class="line">           //å½“è®¿é—®nginxçš„81ç«¯å£æ—¶ï¼Œå°†è¯·æ±‚å¯¼ç»™shsxtç»„</span><br><span class="line">            listen 81; </span><br><span class="line">            server_name 192.168.198.128;  //nginxæœåŠ¡å™¨çš„IP</span><br><span class="line">            location / &#123;</span><br><span class="line">                proxy_pass http://shsxt;</span><br><span class="line">            &#125;</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ï¼ˆ3ï¼‰åŸºäºIP  ï¼šï¼ˆä¸å¸¸ç”¨ï¼‰</p>
<h2 id="äºŒã€æ­£å‘ä»£ç†å’Œåå‘ä»£ç†"><a href="#äºŒã€æ­£å‘ä»£ç†å’Œåå‘ä»£ç†" class="headerlink" title="äºŒã€æ­£å‘ä»£ç†å’Œåå‘ä»£ç†"></a>äºŒã€æ­£å‘ä»£ç†å’Œåå‘ä»£ç†</h2><h3 id="1ã€æ­£å‘ä»£ç†"><a href="#1ã€æ­£å‘ä»£ç†" class="headerlink" title="1ã€æ­£å‘ä»£ç†"></a>1ã€æ­£å‘ä»£ç†</h3><p>ç†è§£ï¼š</p>
<blockquote>
<p>ä»£ç†å®¢æˆ·ç«¯ï¼Œå¦‚é€šè¿‡VPN ï¼Œéšè—å®¢æˆ·ç«¯ï¼Œè®¿é—®ç›®æ ‡æœåŠ¡å™¨ï¼ˆæœåŠ¡ç«¯å¯è§ï¼‰</p>
</blockquote>
<p>ä¸¾ä¾‹ï¼š</p>
<blockquote>
<p>å›½å†…ä¸èƒ½ç›´æ¥è®¿é—®è°·æ­Œï¼Œä½†æ˜¯å¯ä»¥è®¿é—®ä»£ç†æœåŠ¡å™¨ï¼Œé€šè¿‡ä»£ç†æœåŠ¡å™¨å¯ä»¥è®¿é—®è°·æ­Œã€‚ï¼ˆå°±æ˜¯ç¿»å¢™ï¼‰</p>
<p>ä½†æ˜¯ï¼Œéœ€è¦å®¢æˆ·ç«¯å¿…é¡»è®¾ç½®æ­£å‘ä»£ç†æœåŠ¡å™¨ï¼Œå¹¶ä¸”è¦çŸ¥é“æ­£å‘ä»£ç†æœåŠ¡å™¨çš„IPåœ°å€å’Œç«¯å£</p>
</blockquote>
<h3 id="2ã€åå‘ä»£ç†"><a href="#2ã€åå‘ä»£ç†" class="headerlink" title="2ã€åå‘ä»£ç†"></a>2ã€åå‘ä»£ç†</h3><p>ç†è§£ï¼š</p>
<blockquote>
<p>ä»£ç†æœåŠ¡ç«¯ï¼Œé€šè¿‡è´Ÿè½½å‡è¡¡æœåŠ¡å™¨ï¼ˆå¦‚Nginxï¼‰ï¼Œéšè—æœåŠ¡ç«¯ï¼Œåˆ†å‘å®¢æˆ·ç«¯çš„ä¸åŒè¯·æ±‚ï¼ˆå®¢æˆ·ç«¯å¯è§ï¼‰åˆ°å†…éƒ¨ç½‘ç»œä¸Šçš„æœåŠ¡å™¨</p>
</blockquote>
<p>ä¸¾ä¾‹ï¼š</p>
<blockquote>
<p>å¦‚æˆ‘ä»¬è®¿é—®<a href="http://www.baidu.comçš„æ—¶å€™ï¼Œå®ƒèƒŒåæœ‰å¾ˆå¤šå°æœåŠ¡å™¨ï¼Œå®¢æˆ·ç«¯å¹¶ä¸çŸ¥é“å…·ä½“æ˜¯å“ªä¸€å°æœåŠ¡å™¨ç»™ä½ æä¾›çš„æœåŠ¡ï¼Œåªè¦çŸ¥é“åå‘ä»£ç†æœåŠ¡å™¨æ˜¯è°å°±å¥½äº†ï¼Œåå‘ä»£ç†æœåŠ¡å™¨å°±ä¼šæŠŠæˆ‘ä»¬çš„è¯·æ±‚è½¬å‘åˆ°çœŸå®æœåŠ¡å™¨ä¸Šã€‚" target="_blank" rel="noopener">www.baidu.comçš„æ—¶å€™ï¼Œå®ƒèƒŒåæœ‰å¾ˆå¤šå°æœåŠ¡å™¨ï¼Œå®¢æˆ·ç«¯å¹¶ä¸çŸ¥é“å…·ä½“æ˜¯å“ªä¸€å°æœåŠ¡å™¨ç»™ä½ æä¾›çš„æœåŠ¡ï¼Œåªè¦çŸ¥é“åå‘ä»£ç†æœåŠ¡å™¨æ˜¯è°å°±å¥½äº†ï¼Œåå‘ä»£ç†æœåŠ¡å™¨å°±ä¼šæŠŠæˆ‘ä»¬çš„è¯·æ±‚è½¬å‘åˆ°çœŸå®æœåŠ¡å™¨ä¸Šã€‚</a></p>
</blockquote>
<p>Nginxå°±æ˜¯æ€§èƒ½å¾ˆå¥½çš„åå‘ä»£ç†æœåŠ¡å™¨ï¼Œç”¨æ¥ä½œè´Ÿè½½å‡è¡¡ã€‚</p>
<h2 id="ä¸‰ã€Nginxçš„sessionä¸€è‡´æ€§é—®é¢˜"><a href="#ä¸‰ã€Nginxçš„sessionä¸€è‡´æ€§é—®é¢˜" class="headerlink" title="ä¸‰ã€Nginxçš„sessionä¸€è‡´æ€§é—®é¢˜"></a>ä¸‰ã€Nginxçš„sessionä¸€è‡´æ€§é—®é¢˜</h2><h4 id="1ã€èƒŒæ™¯ï¼š"><a href="#1ã€èƒŒæ™¯ï¼š" class="headerlink" title="1ã€èƒŒæ™¯ï¼š"></a>1ã€èƒŒæ™¯ï¼š</h4><p>httpåè®®æ˜¯æ— çŠ¶æ€çš„ï¼Œå¤šæ¬¡è®¿é—®å¦‚æœæ˜¯ä¸åŒæœåŠ¡å™¨å“åº”è¯·æ±‚ï¼Œå°±ä¼šå‡ºç°ä¸Šæ¬¡è®¿é—®ç•™ä¸‹çš„sessionæˆ–cookieå¤±æ•ˆã€‚è¿™å°±å¼•å‘äº†sessionå…±äº«çš„é—®é¢˜ã€‚</p>
<h4 id="2ã€Sessionä¸€è‡´æ€§è§£å†³æ–¹æ¡ˆ"><a href="#2ã€Sessionä¸€è‡´æ€§è§£å†³æ–¹æ¡ˆ" class="headerlink" title="2ã€Sessionä¸€è‡´æ€§è§£å†³æ–¹æ¡ˆ"></a>2ã€Sessionä¸€è‡´æ€§è§£å†³æ–¹æ¡ˆ</h4><p>ï¼ˆ1ï¼‰â€“sessionå¤åˆ¶<br>   tomcat æœ¬èº«å¸¦æœ‰å¤åˆ¶sessionçš„åŠŸèƒ½ã€‚</p>
<p>ï¼ˆ2ï¼‰-å…±äº«session</p>
<p>  éœ€è¦ä¸“é—¨ç®¡ç†sessionçš„è½¯ä»¶ï¼Œ<br>   memcached ç¼“å­˜æœåŠ¡ï¼Œå¯ä»¥å’Œtomcatæ•´åˆï¼Œå¸®åŠ©tomcatå…±äº«ç®¡ç†sessionã€‚</p>
<h4 id="3ã€å®‰è£…memcached"><a href="#3ã€å®‰è£…memcached" class="headerlink" title="3ã€å®‰è£…memcached"></a>3ã€å®‰è£…memcached</h4><p>memcached ï¼ˆåŒredisä¸€æ ·ï¼‰æ˜¯åŸºäºå†…å­˜çš„æ•°æ®åº“</p>
<p>1ã€å®‰è£…</p>
<blockquote>
<p>  yum â€“y install memcached</p>
</blockquote>
<blockquote>
<p>   å¯ä»¥ç”¨telnet localhost 11211</p>
</blockquote>
<blockquote>
<p>   å¯åŠ¨ï¼š memcached -d -m 128m -p 11211 -l 192.168.235.113 -u root -P /tmp/</p>
</blockquote>
<p>2.webæœåŠ¡å™¨è¿æ¥memcachedçš„jaråŒ…æ‹·è´åˆ°tomcatçš„libç›®å½•ä¸‹</p>
<p><code>è®¿é—®TomcatæœåŠ¡å™¨æœŸé—´äº§ç”Ÿçš„sessioné€šè¿‡ç›¸å…³jaråŒ…ï¼Œæ‰èƒ½å†™å…¥åˆ°memcachedæ•°æ®åº“ä¸­</code></p>
<blockquote>
<p>memcached-session-manager-1.7.0.jar</p>
<p>memcached-session-manager-tc7-1.8.1.jar</p>
</blockquote>
<p>3.é…ç½®tomcatçš„confç›®å½•ä¸‹çš„context.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Manager</span> <span class="attr">className</span>=<span class="string">"de.javakaffee.web.msm.MemcachedBackupSessionManager"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">memcachedNodes</span>=<span class="string">"n1:192.168.198.128:11211"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">sticky</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">lockingMode</span>=<span class="string">"auto"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">sessionBackupAsync</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">requestUriIgnorePattern</span>=<span class="string">".*\.(ico|png|gif|jpg|css|js)$"</span></span></span><br><span class="line"><span class="tag"><span class="attr">sessionBackupTimeout</span>=<span class="string">"1000"</span> <span class="attr">transcoderFactoryClass</span>=<span class="string">"de.javakaffee.web.msm.serializer.kryo.KryoTranscoderFactory"</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<p>é…ç½®memcachedNodeså±æ€§ï¼Œ</p>
<blockquote>
<p>é…ç½®memcachedæ•°æ®åº“çš„ipå’Œç«¯å£ï¼Œé»˜è®¤11211ï¼Œå¤šä¸ªçš„è¯ç”¨é€—å·éš”å¼€.</p>
<p>ç›®çš„æ˜¯ä¸ºäº†è®©tomcatæœåŠ¡å™¨ä»memcachedç¼“å­˜é‡Œé¢æ‹¿sessionæˆ–è€…æ˜¯æ”¾session</p>
</blockquote>
<p>å°†é…ç½®å®Œæˆçš„context.xmlå‘é€åˆ°å…¶ä»–è™šæ‹Ÿæœºå™¨ä¸Š</p>
<blockquote>
<p>scp -r context.xml root@node01:<code>pwd</code></p>
<p>æˆ–</p>
<p>scp -r context.xml node01:<code>pwd</code></p>
<p>æˆ–</p>
<p>scp -r context.xml <a href="mailto:root@192.168.198.130" target="_blank" rel="noopener">root@192.168.198.130</a>:<code>pwd</code></p>
</blockquote>
<p>4.ä¿®æ”¹tomcatç›®å½•ä¸­webapps/ROOTä¸‹çš„ index.jspï¼Œå–sessionidçœ‹ä¸€çœ‹</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">"java"</span> contentType=<span class="string">"text/html; charset=UTF-8"</span>  pageEncoding=<span class="string">"UTF-8"</span>%&gt;</span><br><span class="line">&lt;html lang=<span class="string">"en"</span>&gt;</span><br><span class="line">SessionID:&lt;%=session.getId()%&gt;</span><br><span class="line">&lt;/br&gt;</span><br><span class="line">SessionIP:&lt;%=request.getServerName()%&gt;</span><br><span class="line">&lt;/br&gt;</span><br><span class="line">&lt;h1&gt;tomcat1&lt;/h1&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

      </div>
        <div class="support-author">
          <p>æ„Ÿè°¢æ‚¨çš„é˜…è¯»ã€‚ ğŸ™
          <a href="https://www.yarusun.club/" target="_blank">å…³äºè½¬è½½è¯·çœ‹è¿™é‡Œ</a>
            <!--<a class="btn-pay"  href="#pay-modal">Â¥ æ‰“èµæ”¯æŒ</a>-->
          </p>
        </div>
        <!--
            <div class="like ">
              <div class="like-button">
                <a id="like-note" href="">
                  <i class="icon-heart"></i>å–œæ¬¢
                </a>
              </div>
              <span id="likes-count">256</span>
            </div>
        -->
        <div class="otherLink">
          <div class="previous">
          </div>
          <div class="next">
          </div>
        </div>
        <div class="comments" id="comments">
          
<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script type="text/javascript">
  const gitalk = new Gitalk({
    clientID: '6b3c35f853de938a9612',
    clientSecret: '70003661fc70b011a32d9d1b2197666021305201',
    repo: 'sungithup.github.io',
    owner: 'admin',
    admin: ['admin'],
    id: location.pathname,      // Ensure uniqueness and length less than 50
    distractionFreeMode: false
  })

  gitalk.render('comments');
</script>


        </div>
      </div>
    </div>
   
</main>
<div class="footer">
  <div class="info">
    <p>
    <a href="https://hexo.io"> Hexo </a> å¼ºåŠ›é©±åŠ¨ |
      <a href="https://github.com/Youthink/hexo-themes-yearn"> Yearn </a>
      ä¸»é¢˜
    </p>
    <p>&copy;2013-2019 Sukieçš„ä¸ªäººåšå®¢ äº¬ICPå¤‡xxxxxxå·</p>
  </div>
</div>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<script>//console
  var consoleConfig = '\næ¬¢è¿è®¿é—® https://hufangyun.com ï¼Œå›´è§‚å°çŒ¿å¤§åœ£çš„åšå®¢(ã¥ï½¡â—•â€¿â€¿â—•ï½¡)ã¥ï¼\n,\næœ¬åšå®¢ä½¿ç”¨ %cHexo%c æ­å»ºï¼Œåšå®¢ä¸»é¢˜ä¸ºå°çŒ¿å¤§åœ£å¼€å‘çš„ %chexo-themes-yearn%c ~~~ ğŸ‰ğŸ‰ğŸ‰ \n\næºç  https://github.com/Youthink/hexo-themes-yearn \n\nå¦‚æœå–œæ¬¢å¯ä»¥ star æ”¯æŒä¸€ä¸‹ â¤ï¸~\n,\næ‰«æä¸‹é¢çš„äºŒç»´ç ï¼Œåœ¨æ‰‹æœºä¸ŠæŸ¥çœ‹åšå®¢ï¼\n,https://static.hufangyun.com/blog-url-qrcode-180-180.png,\n æƒ³çŸ¥é“è¿™ä¸ªæ•ˆæœå¦‚ä½•å®ç°çš„ï¼Ÿåšå®¢å†…æœç´¢ console å½©è›‹ ğŸš€ ï¼\n'.split(',');
  var canConsole = true;
  var consoleInfo = (function(consoleConfig) {
  if (!canConsole || !consoleConfig || consoleConfig.length < 1) {
    return;
  }
  var consoleColor = '#6190e8';
  var _console;
  var backgroundTextStyle = 'padding: 1px 5px;color: #fff;background: ' + consoleColor + ';'
  var textStyle = 'color: ' + consoleColor + ';';

  consoleConfig.map(o => {
    var num = (o.match(/%c/g) || []).length;
    if(/^http(s)?:\/\//.test(o)) {
      console.log('%c     ', 'background: url(' + o + ') no-repeat left center;font-size: 180px;');
      return;
    }
    if (num > 0) {
      var logArguments = [];
      for (var i = 0; i < num; i++) {
        if (i % 2 === 0) {
          logArguments.push(backgroundTextStyle);
        } else {
          logArguments.push(textStyle);
        }
      }
      (_console = console).log.apply(_console, ['%c' + o, textStyle].concat(logArguments));
      return;
    }
    console.log('%c' + o, textStyle);
  });
}(consoleConfig));</script><script type="text/javascript" src="/./js/main.d9e3dd.js"></script>

</body>
</html>
