<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <meta name="keywords" content="hexo,ä¸ªäººåšå®¢,blog">
  <meta name="description" content="Sukieçš„ä¸ªäººåšå®¢">
  <meta http-equiv="x-dns-prefetch-control" content="on">
  <link rel="dns-prefetch" href="https://busuanzi.ibruce.info">
  
  <link rel="dns-prefetch" href="https://widget.daovoice.io">
  <link rel="dns-prefetch" href="https://widget-static-cdn.daovoice.io">
  <link rel="dns-prefetch" href="https://im.daovoice.io">
  
  
  <link rel="dns-prefetch" href="https://hm.baidu.com/">
  
  
  <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
  <link rel="dns-prefetch" href="https://api.github.com">
  <link rel="dns-prefetch" href="https://avatars3.githubusercontent.com">
  
  <link rel="stylesheet" type="text/css" href="/./style/main.d9e3dd.css">
	<link rel="shortcut icon" href="/favicon.ico" title="Favicon">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
	<title>Nginxå­¦ä¹ (æ€»)</title>
  
  <script>var _hmt=_hmt||[];(function(){var hm=document.createElement("script");hm.src="https://hm.baidu.com/hm.js?bc39ced90d9f89c71fda7b7d4ca8b638";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(hm,s);})();
  </script>
  
  
    <script>(function(i,s,o,g,r,a,m){i["DaoVoiceObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset="utf-8";m.parentNode.insertBefore(a,m)})(window,document,"script",('https:' == document.location.protocol ? 'https:' : 'http:') + "//widget.daovoice.io/widget/949e21d7.js","daovoice");daovoice('init',{app_id: "949e21d7"});daovoice('update');
  </script>
  
</head>
<body>
<canvas id="pattern-placeholder" height="230"></canvas>
<div class="navbar-header">
  <a class="blog-title" href="/">Sukieå±±è„‰</a>
  <a class="face-img" href="/">
    <img src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1545985146898&amp;di=2861af758f070858999b0a2a0e708388&amp;imgtype=0&amp;src=http%3A%2F%2Fb-ssl.duitang.com%2Fuploads%2Fitem%2F201610%2F11%2F20161011203442_eHhSV.jpeg">
  </a>
</div>
<main>
  <div class="article-title">
    
  
  <h1 class="title">
    Nginxå­¦ä¹ (æ€»)
  </h1>
  


    <ul class="article-info">
      <li>
        å‘å¸ƒ
        <time datetime="2019-01-01T16:00:00.000Z" itemprop="datePublished">2019-01-02</time>
      </li>
      <li>
        
    æ›´æ–° <time datetime="2019-01-28T07:50:37.822Z" itemprop="dateUpdated">2019-01-28</time>

      </li>
      <li id="busuanzi_container_page_pv">
        é˜…è¯» <span id="busuanzi_value_page_pv"></span>
      </li>
    </ul>
  </div>
  <div class="container">
    <div class="article">
      <div class="content">
        
        <p>[TOC]</p>
<h1 id="Nginxå­¦ä¹ ï¼šå¤§å‹ç½‘ç«™é«˜å¹¶å‘è¿è¡Œå¤„ç†"><a href="#Nginxå­¦ä¹ ï¼šå¤§å‹ç½‘ç«™é«˜å¹¶å‘è¿è¡Œå¤„ç†" class="headerlink" title="Nginxå­¦ä¹ ï¼šå¤§å‹ç½‘ç«™é«˜å¹¶å‘è¿è¡Œå¤„ç†"></a>Nginxå­¦ä¹ ï¼šå¤§å‹ç½‘ç«™é«˜å¹¶å‘è¿è¡Œå¤„ç†</h1><h2 id="ä¸€ã€Nginxä½¿ç”¨èƒŒæ™¯"><a href="#ä¸€ã€Nginxä½¿ç”¨èƒŒæ™¯" class="headerlink" title="ä¸€ã€Nginxä½¿ç”¨èƒŒæ™¯"></a>ä¸€ã€Nginxä½¿ç”¨èƒŒæ™¯</h2><p>1ã€èƒŒæ™¯</p>
<p>1ï¼‰é«˜å¹¶å‘ï¼ˆæµ·é‡æ•°æ®ï¼Œå¤æ‚ä¸šåŠ¡ï¼Œå¤§é‡çº¿ç¨‹ï¼‰é›†ä¸­è®¿é—®æœåŠ¡å™¨</p>
<p>2)æœåŠ¡å™¨èµ„æºå’Œèƒ½åŠ›æœ‰é™</p>
<p>ä½¿å¾—æœåŠ¡å™¨å®•æœºï¼Œæ— æ³•æä¾›æœåŠ¡</p>
<p>2ã€æ¦‚å¿µç†è§£</p>
<p>1)é«˜å¹¶å‘</p>
<blockquote>
<p>æµ·é‡æ•°æ®è®¿é—®ï¼Œå¤šä¸ªè¿›ç¨‹åŒæ—¶å¤„ç†ä¸åŒæ“ä½œ</p>
</blockquote>
<p>2ï¼‰è´Ÿè½½å‡è¡¡</p>
<blockquote>
<p>å‡åŒ€åˆ†é…è¯·æ±‚|æ•°æ®åˆ°ä¸åŒæ“ä½œå•å…ƒä¸Š</p>
</blockquote>
<p>3ï¼‰å¸¸è§äº’è”ç½‘æ¶æ„</p>
<blockquote>
<p>å®¢æˆ·ç«¯å±‚â†’åå‘ä»£ç†å±‚â†’ç«™ç‚¹å±‚â†’æœåŠ¡å±‚â†’æ•°æ®å±‚</p>
</blockquote>
<p><img src="https://ws1.sinaimg.cn/large/005zftzDgy1fz0gr7u5zoj31740hb42u.jpg" alt=""></p>
<h2 id="äºŒã€Nginxå…¥é—¨"><a href="#äºŒã€Nginxå…¥é—¨" class="headerlink" title="äºŒã€Nginxå…¥é—¨"></a>äºŒã€Nginxå…¥é—¨</h2><h3 id="1ã€äº†è§£nginxæ˜¯ä»€ä¹ˆ"><a href="#1ã€äº†è§£nginxæ˜¯ä»€ä¹ˆ" class="headerlink" title="1ã€äº†è§£nginxæ˜¯ä»€ä¹ˆ"></a>1ã€äº†è§£nginxæ˜¯ä»€ä¹ˆ</h3><blockquote>
<p>nginxæ˜¯ä¸€æ¬¾è½»é‡çº§ï¼ˆå¼€å‘æ–¹ä¾¿ï¼Œé…ç½®ç®€æ·ï¼‰çš„Web æœåŠ¡å™¨/<strong>åå‘ä»£ç†</strong>æœåŠ¡å™¨åŠç”µå­é‚®ä»¶ï¼ˆIMAP/POP3ï¼‰ä»£ç†æœåŠ¡å™¨</p>
</blockquote>
<h3 id="2ã€ç‰¹ç‚¹"><a href="#2ã€ç‰¹ç‚¹" class="headerlink" title="2ã€ç‰¹ç‚¹"></a>2ã€ç‰¹ç‚¹</h3><blockquote>
<p>å æœ‰å†…å­˜å°‘ï¼Œå¹¶å‘èƒ½åŠ›å¼ºï¼Œnginxçš„å¹¶å‘èƒ½åŠ›ç¡®å®åœ¨åŒç±»å‹çš„ç½‘é¡µæœåŠ¡å™¨ä¸­è¡¨ç°éå¸¸å¥½ã€‚</p>
<p>ï¼ˆä½¿ç”¨Cè¯­è¨€ç¼–å†™ï¼‰</p>
</blockquote>
<h3 id="3ã€é…ç½®æ­å»ºNginxï¼ˆLinuxç³»ç»Ÿç¯å¢ƒä¸‹ï¼‰"><a href="#3ã€é…ç½®æ­å»ºNginxï¼ˆLinuxç³»ç»Ÿç¯å¢ƒä¸‹ï¼‰" class="headerlink" title="3ã€é…ç½®æ­å»ºNginxï¼ˆLinuxç³»ç»Ÿç¯å¢ƒä¸‹ï¼‰"></a>3ã€é…ç½®æ­å»ºNginxï¼ˆLinuxç³»ç»Ÿç¯å¢ƒä¸‹ï¼‰</h3><p><code>èµ„æº</code>ï¼š</p>
<p>Tengineï¼ˆæ¨èï¼‰ï¼š<a href="http://tengine.taobao.org/download/tengine-2.2.3.tar.gz" target="_blank" rel="noopener">Tengine-2.2.3.tar.gz</a> </p>
<p>â€‹                                 <a href="http://tengine.taobao.org/download.html" target="_blank" rel="noopener">å…¶ä»–ç‰ˆæœ¬</a></p>
<p>nginxï¼š<a href="http://nginx.org/download/nginx-1.8.1.zip" target="_blank" rel="noopener">nginx/Windows-1.8.1</a></p>
<p>1ï¼‰å®‰è£…ä¾èµ–</p>
<blockquote>
<p>å‘½ä»¤ï¼šyum -y install gcc openssl-devel pcre-devel zlib-devel</p>
</blockquote>
<p>2ï¼‰è§£å‹taråŒ…</p>
<blockquote>
<p>å‘½ä»¤ï¼štar -zxvf Tengine-2.2.3.tar.gz</p>
</blockquote>
<p>3ï¼‰configureé…ç½®ï¼šåœ¨è§£å‹åçš„æºç ç›®å½•ä¸­</p>
<p>ä¸¤ç§æ–¹æ¡ˆï¼š</p>
<blockquote>
<ul>
<li>å‘½ä»¤ï¼š ./configure</li>
</ul>
<p>é»˜è®¤é…ç½®/usr/soft/nginx</p>
</blockquote>
<blockquote>
<ul>
<li>å‘½ä»¤ : ./configure â€“profix==/usr/soft/nginx</li>
</ul>
<p>é…ç½®åœ¨æŒ‡å®šè·¯å¾„</p>
</blockquote>
<p>4ï¼‰ç¼–è¯‘å¹¶å®‰è£…(é»˜è®¤ä¼šåœ¨/usr/localä¸‹ç”Ÿæˆnginxç›®å½•)</p>
<blockquote>
<p>make &amp;&amp; make install</p>
</blockquote>
<p>5ï¼‰é…ç½®nginxæœåŠ¡</p>
<p>åœ¨/etc/rc.d/init.d/ç›®å½•ä¸­å»ºç«‹æ–‡æœ¬æ–‡ä»¶nginx</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh</span><br><span class="line">#</span><br><span class="line"># nginx - this script starts and stops the nginx daemon</span><br><span class="line">#</span><br><span class="line"># chkconfig:   - 85 15 </span><br><span class="line"># description:  Nginx is an HTTP(S) server, HTTP(S) reverse \</span><br><span class="line">#               proxy and IMAP/POP3 proxy server</span><br><span class="line"># processname: nginx</span><br><span class="line"># config:      /etc/nginx/nginx.conf</span><br><span class="line"># config:      /etc/sysconfig/nginx</span><br><span class="line"># pidfile:     /var/run/nginx.pid</span><br><span class="line"> </span><br><span class="line"># Source function library.</span><br><span class="line">. /etc/rc.d/init.d/functions</span><br><span class="line"> </span><br><span class="line"># Source networking configuration.</span><br><span class="line">. /etc/sysconfig/network</span><br><span class="line"> </span><br><span class="line"># Check that networking is up.</span><br><span class="line">[ &quot;$NETWORKING&quot; = &quot;no&quot; ] &amp;&amp; exit 0</span><br><span class="line"> </span><br><span class="line">nginx=&quot;/usr/local/nginx/sbin/nginx&quot;</span><br><span class="line">prog=$(basename $nginx)</span><br><span class="line"> </span><br><span class="line">NGINX_CONF_FILE=&quot;/usr/local/nginx/conf/nginx.conf&quot;</span><br><span class="line"> </span><br><span class="line">[ -f /etc/sysconfig/nginx ] &amp;&amp; . /etc/sysconfig/nginx</span><br><span class="line"> </span><br><span class="line">lockfile=/var/lock/subsys/nginx</span><br><span class="line"> </span><br><span class="line">make_dirs() &#123;</span><br><span class="line">   # make required directories</span><br><span class="line">   user=`nginx -V 2&gt;&amp;1 | grep &quot;configure arguments:&quot; | sed &apos;s/[^*]*--user=\([^ ]*\).*/\1/g&apos; -`</span><br><span class="line">   options=`$nginx -V 2&gt;&amp;1 | grep &apos;configure arguments:&apos;`</span><br><span class="line">   for opt in $options; do</span><br><span class="line">       if [ `echo $opt | grep &apos;.*-temp-path&apos;` ]; then</span><br><span class="line">           value=`echo $opt | cut -d &quot;=&quot; -f 2`</span><br><span class="line">           if [ ! -d &quot;$value&quot; ]; then</span><br><span class="line">               # echo &quot;creating&quot; $value</span><br><span class="line">               mkdir -p $value &amp;&amp; chown -R $user $value</span><br><span class="line">           fi</span><br><span class="line">       fi</span><br><span class="line">   done</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">start() &#123;</span><br><span class="line">    [ -x $nginx ] || exit 5</span><br><span class="line">    [ -f $NGINX_CONF_FILE ] || exit 6</span><br><span class="line">    make_dirs</span><br><span class="line">    echo -n $&quot;Starting $prog: &quot;</span><br><span class="line">    daemon $nginx -c $NGINX_CONF_FILE</span><br><span class="line">    retval=$?</span><br><span class="line">    echo</span><br><span class="line">    [ $retval -eq 0 ] &amp;&amp; touch $lockfile</span><br><span class="line">    return $retval</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">stop() &#123;</span><br><span class="line">    echo -n $&quot;Stopping $prog: &quot;</span><br><span class="line">    killproc $prog -QUIT</span><br><span class="line">    retval=$?</span><br><span class="line">    echo</span><br><span class="line">    [ $retval -eq 0 ] &amp;&amp; rm -f $lockfile</span><br><span class="line">    return $retval</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">restart() &#123;</span><br><span class="line">    configtest || return $?</span><br><span class="line">    stop</span><br><span class="line">    sleep 1</span><br><span class="line">    start</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">reload() &#123;</span><br><span class="line">    configtest || return $?</span><br><span class="line">    echo -n $&quot;Reloading $prog: &quot;</span><br><span class="line">    killproc $nginx -HUP</span><br><span class="line">    RETVAL=$?</span><br><span class="line">    echo</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">force_reload() &#123;</span><br><span class="line">    restart</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">configtest() &#123;</span><br><span class="line">  $nginx -t -c $NGINX_CONF_FILE</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">rh_status() &#123;</span><br><span class="line">    status $prog</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">rh_status_q() &#123;</span><br><span class="line">    rh_status &gt;/dev/null 2&gt;&amp;1</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">case &quot;$1&quot; in</span><br><span class="line">    start)</span><br><span class="line">        rh_status_q &amp;&amp; exit 0</span><br><span class="line">        $1</span><br><span class="line">        ;;</span><br><span class="line">    stop)</span><br><span class="line">        rh_status_q || exit 0</span><br><span class="line">        $1</span><br><span class="line">        ;;</span><br><span class="line">    restart|configtest)</span><br><span class="line">        $1</span><br><span class="line">        ;;</span><br><span class="line">    reload)</span><br><span class="line">        rh_status_q || exit 7</span><br><span class="line">        $1</span><br><span class="line">        ;;</span><br><span class="line">    force-reload)</span><br><span class="line">        force_reload</span><br><span class="line">        ;;</span><br><span class="line">    status)</span><br><span class="line">        rh_status</span><br><span class="line">        ;;</span><br><span class="line">    condrestart|try-restart)</span><br><span class="line">        rh_status_q || exit 0</span><br><span class="line">            ;;</span><br><span class="line">    *)</span><br><span class="line">        echo $&quot;Usage: $0 &#123;start|stop|status|restart|condrestart|try-restart|reload|force-reload|configtest&#125;&quot;</span><br><span class="line">        exit 2</span><br><span class="line">esac</span><br></pre></td></tr></table></figure>
<p>6ï¼‰ä¿®æ”¹nginxæ–‡ä»¶çš„æƒé™</p>
<blockquote>
<p>å‘½ä»¤ ï¼š chmod +x nginx</p>
</blockquote>
<p>7ï¼‰å°†æ–‡ä»¶æ·»åŠ åˆ°ç³»ç»ŸæœåŠ¡ä¸­</p>
<blockquote>
<p>chkconfig â€“add nginx</p>
</blockquote>
<p>8ï¼‰éªŒè¯</p>
<blockquote>
<p>chkconfig â€“list nginx</p>
</blockquote>
<p>9ï¼‰å¯åŠ¨|åœæ­¢æœåŠ¡</p>
<blockquote>
<p>service nginx start|stop</p>
</blockquote>
<h3 id="4ã€è´Ÿè½½å‡è¡¡é…ç½®"><a href="#4ã€è´Ÿè½½å‡è¡¡é…ç½®" class="headerlink" title="4ã€è´Ÿè½½å‡è¡¡é…ç½®"></a>4ã€è´Ÿè½½å‡è¡¡é…ç½®</h3><p>1ï¼‰ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼š</p>
<blockquote>
<p>å‘½ä»¤ ï¼š vim /usr/local/nginx/conf/nginx.conf</p>
</blockquote>
<p>å…·ä½“è´Ÿè½½é…ç½®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">ï¼ˆ1ï¼‰ï¼ˆé»˜è®¤ï¼‰è½®è¯¢è´Ÿè½½</span><br><span class="line">http &#123; </span><br><span class="line">    upstream shsxt&#123; </span><br><span class="line">        server node01; </span><br><span class="line">        server node02; </span><br><span class="line">         &#125; </span><br><span class="line">    server &#123; </span><br><span class="line">        listen 80; </span><br><span class="line">	server_name  localhost;</span><br><span class="line">        location / &#123;</span><br><span class="line">            proxy_pass http://shsxt;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br><span class="line">ï¼ˆ2ï¼‰åŠ æƒè´Ÿè½½</span><br><span class="line">upstream shsxt&#123;</span><br><span class="line">     server sxt1.com weight=3;</span><br><span class="line">     server sxt2.com;</span><br><span class="line">&#125;</span><br><span class="line">(3)æœ€å°‘è¿æ¥è´Ÿè½½</span><br><span class="line">upstream shsxt&#123;</span><br><span class="line">     least_conn;</span><br><span class="line">     servcer node01;</span><br><span class="line">     server node02;</span><br><span class="line">&#125;</span><br><span class="line">(4)ip_hashè´Ÿè½½ï¼ˆä¿æŒå›è¯æŒä¹…æ€§ï¼‰</span><br><span class="line">upstream shsxt&#123;</span><br><span class="line">     ip_hash;</span><br><span class="line">     server node01;</span><br><span class="line">     server node02;</span><br><span class="line">&#125;</span><br><span class="line">3. è®¿é—®æ§åˆ¶ï¼ˆallow ä»£è¡¨å…è®¸å…¶è®¿é—®ï¼Œdeny ç¦æ­¢å…¶è®¿é—®ï¼‰</span><br><span class="line">location / &#123;</span><br><span class="line">     deny 192.168.4.29;</span><br><span class="line">     allow 192.168.198.0/24;</span><br><span class="line">     deny all;</span><br><span class="line">     proxy_pass http://shsxt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="5ã€sessionä¸€è‡´æ€§é—®é¢˜"><a href="#5ã€sessionä¸€è‡´æ€§é—®é¢˜" class="headerlink" title="5ã€sessionä¸€è‡´æ€§é—®é¢˜"></a>5ã€sessionä¸€è‡´æ€§é—®é¢˜</h3><blockquote>
<p>å®ç°sessionå…±äº«å³å¯è§£å†³è¿™ä¸ªé—®é¢˜</p>
<p>å®ç°å·¥å…·ï¼šmemcached</p>
<p>ä½œç”¨ï¼šä¸“é—¨ç®¡ç†sessionçš„å·¥å…·</p>
</blockquote>
<p>1ï¼‰åœ¨tomcatçš„libç›®å½•ä¸‹å¯¼å…¥è¿æ¥memcachedæ‰€éœ€çš„jaråŒ…</p>
<blockquote>
<p>asm-3.2.jar</p>
<p>kryo-1.04.jar</p>
<p>kryo-serializers-0.11.jar</p>
<p>memcached-session-manager-1.7.0.jar</p>
<p>memcached-session-manager-tc7-1.8.1.jar</p>
<p>minlog-1.2.jar</p>
<p>msm-kryo-serializer-1.7.0.jar</p>
<p>reflectasm-1.01.jar</p>
<p>spymemcached-2.7.3.jar</p>
</blockquote>
<p>2ï¼‰åœ¨tomcatçš„confç›®å½•ä¸‹ç¼–è¾‘context.xmlæ–‡ä»¶</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Manager</span> <span class="attr">className</span>=<span class="string">"de.javakaffee.web.msm.MemcachedBackupSessionManager"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">memcachedNodes</span>=<span class="string">"n1:192.168.17.9:11211"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">sticky</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">lockingMode</span>=<span class="string">"auto"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">sessionBackupAsync</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">requestUriIgnorePattern</span>=<span class="string">".*\.(ico|png|gif|jpg|css|js)$"</span></span></span><br><span class="line"><span class="tag"><span class="attr">sessionBackupTimeout</span>=<span class="string">"1000"</span> <span class="attr">transcoderFactoryClass</span>=<span class="string">"de.javakaffee.web.msm.serializer.kryo.KryoTranscoderFactory"</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>ï¼ˆæ³¨æ„ï¼šé…ç½®memcachedNodeså±æ€§æ—¶ï¼Œé…ç½®å…¶ipå’Œç«¯å£ï¼Œé»˜è®¤ä¸º11211ï¼Œå­˜åœ¨å¤šä¸ªmemecacahedæ•°æ®åº“æ—¶ï¼Œç”¨éƒ½é€—å·éš”å¼€ï¼‰</p>
</blockquote>
<p>3ï¼‰éªŒè¯sessionï¼šä¿®æ”¹index.jspï¼ˆåœ¨/usr/soft/apache-tomcat-8.5.24/webapps/ROOT/index.jspï¼‰ï¼Œå–sessionidçœ‹ä¸€çœ‹</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SessionID:&lt;%=session.getId()%&gt;</span><br><span class="line">&lt;/br&gt;</span><br><span class="line">SessionIP:&lt;%=request.getServerName()%&gt;</span><br><span class="line">&lt;/br&gt;</span><br><span class="line">&lt;h1&gt;tomcat1&lt;/h1&gt;</span><br></pre></td></tr></table></figure>
<p>4)å®‰è£…ï¼š memcached</p>
<blockquote>
<p>å‘½ä»¤ ï¼šyum install memcached â€“y</p>
</blockquote>
<p>5ï¼‰å¯åŠ¨memcached (IPåœ°å€ä¸ºmemcachedå®‰è£…çš„èŠ‚ç‚¹çš„IPåœ°å€)</p>
<blockquote>
<p>memcached -d -m 128m -p 11211 -l 192.168.198.128 -u root -P /tmp/</p>
</blockquote>
<p>6ï¼‰åœ¨æµè§ˆå™¨æ®µè®¿é—®æœåŠ¡å™¨ï¼Œé»˜è®¤ç«¯å£ ï¼š 80 ï¼Œå¯¹æ­¤æµ‹éªŒï¼Œå°±ä¼šå‘ç°sessionIDä¸ä¼šæ”¹å˜</p>
<h2 id="ä¸‰ã€è™šæ‹Ÿä¸»æœº"><a href="#ä¸‰ã€è™šæ‹Ÿä¸»æœº" class="headerlink" title="ä¸‰ã€è™šæ‹Ÿä¸»æœº"></a>ä¸‰ã€è™šæ‹Ÿä¸»æœº</h2><h3 id="1ã€ä»€ä¹ˆæ˜¯è™šæ‹Ÿä¸»æœºï¼Ÿ"><a href="#1ã€ä»€ä¹ˆæ˜¯è™šæ‹Ÿä¸»æœºï¼Ÿ" class="headerlink" title="1ã€ä»€ä¹ˆæ˜¯è™šæ‹Ÿä¸»æœºï¼Ÿ"></a>1ã€ä»€ä¹ˆæ˜¯è™šæ‹Ÿä¸»æœºï¼Ÿ</h3><p>ï¼ˆ1ï¼‰æ˜¯æŒ‡åœ¨ç½‘ç»œæœåŠ¡å™¨ä¸Šåˆ†å‡ºä¸€å®šçš„ç£ç›˜ç©ºé—´ï¼Œç§Ÿç»™ç”¨æˆ·ä»¥æ”¾ç½®ç«™ç‚¹ä»¥åŠåº”ç”¨ç©ºé—´ï¼Œå¹¶æä¾›å¿…è¦çš„å­˜å‚¨å’Œä¼ è¾“åŠŸèƒ½ã€‚</p>
<p>ï¼ˆ2ï¼‰æ˜¯è¢«è™šæ‹ŸåŒ–çš„é€»è¾‘ä¸»æœºï¼Œä¹Ÿå¯ç†è§£ä¸ºå°±æ˜¯æŠŠä¸€å°ç‰©ç†æœåŠ¡å™¨åˆ’åˆ†æˆå¤šä¸ªâ€œè™šæ‹Ÿâ€œçš„æœåŠ¡å™¨ï¼Œå„ä¸ªè™šæ‹Ÿä¸»æœºä¹‹é—´å®Œå…¨ç‹¬ç«‹ï¼Œå¯¹å¤–ç•Œå‘ˆç°çš„çŠ¶æ€ä¹ŸåŒå•ç‹¬ç‰©ç†ä¸»æœºè¡¨ç°å®Œå…¨ç›¸åŒã€‚</p>
<h3 id="2ã€è™šæ‹Ÿä¸»æœ‰å•¥ç‰¹ç‚¹ï¼Ÿ"><a href="#2ã€è™šæ‹Ÿä¸»æœ‰å•¥ç‰¹ç‚¹ï¼Ÿ" class="headerlink" title="2ã€è™šæ‹Ÿä¸»æœ‰å•¥ç‰¹ç‚¹ï¼Ÿ"></a>2ã€è™šæ‹Ÿä¸»æœ‰å•¥ç‰¹ç‚¹ï¼Ÿ</h3><p>ï¼ˆ1ï¼‰å¤šå°è™šæ‹Ÿä¸»æœºå…±äº«ä¸€å°çœŸå®ä¸»æœºèµ„æºï¼Œå¤§å¹…åº¦é™ä½äº†ç¡¬ä»¶ã€ç½‘ç»œç»´æŠ¤ã€é€šä¿¡çº¿è·¯ç­‰çš„è´¹ç”¨</p>
<p>ï¼ˆ2ï¼‰ä¹Ÿå¤§å¤§ç®€åŒ–äº†æœåŠ¡å™¨ç®¡ç†çš„å¤æ‚æ€§ï¼›</p>
<h3 id="3ã€è™šæ‹Ÿä¸»æœºæœ‰å“ªäº›ç±»åˆ«ï¼Ÿ"><a href="#3ã€è™šæ‹Ÿä¸»æœºæœ‰å“ªäº›ç±»åˆ«ï¼Ÿ" class="headerlink" title="3ã€è™šæ‹Ÿä¸»æœºæœ‰å“ªäº›ç±»åˆ«ï¼Ÿ"></a>3ã€è™šæ‹Ÿä¸»æœºæœ‰å“ªäº›ç±»åˆ«ï¼Ÿ</h3><p>ï¼ˆ1ï¼‰åŸºäºåŸŸå</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">http &#123; </span><br><span class="line">    upstream shsxt&#123; </span><br><span class="line">        server node01; </span><br><span class="line">        server node02; </span><br><span class="line">     &#125; </span><br><span class="line">	upstream bjsxt&#123; </span><br><span class="line">        server node03; </span><br><span class="line">     &#125; </span><br><span class="line">     </span><br><span class="line">     server &#123;    </span><br><span class="line">            listen 80; </span><br><span class="line">            //è®¿é—®sxt2.comçš„æ—¶å€™ï¼Œä¼šæŠŠè¯·æ±‚å¯¼åˆ°bjsxtçš„æœåŠ¡å™¨ç»„é‡Œ</span><br><span class="line">            server_name  sxt2.com;</span><br><span class="line">            location / &#123;</span><br><span class="line">                proxy_pass http://bjsxt;</span><br><span class="line">            &#125;</span><br><span class="line">      &#125; </span><br><span class="line">      server &#123; </span><br><span class="line">            listen 80; </span><br><span class="line">           //è®¿é—®sxt1.comçš„æ—¶å€™ï¼Œä¼šæŠŠè¯·æ±‚å¯¼åˆ°shsxtçš„æœåŠ¡å™¨ç»„é‡Œ</span><br><span class="line">            server_name  sxt1.com; </span><br><span class="line">            location / &#123;</span><br><span class="line">                proxy_pass http://shsxt;</span><br><span class="line">            &#125;</span><br><span class="line">      &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„ï¼š</p>
</blockquote>
<blockquote>
<p>ï¼ˆ1ï¼‰åŸºäºåŸŸåçš„è™šæ‹Ÿæœºä¸»æœº åœ¨æ¨¡æ‹Ÿåº”ç”¨åœºæ™¯æ—¶ï¼Œéœ€è¦åœ¨windowsç³»ç»Ÿçš„hostsæ–‡ä»¶é‡Œé…ç½®åŸŸåæ˜ å°„ã€‚</p>
<p>ï¼ˆC:\Windows\System32\drivers\etc\hosts     ç»™IPå–åˆ«åï¼‰</p>
<p>å¦‚ï¼š192.168.198.130   sxt1.com</p>
</blockquote>
<blockquote>
<p>ï¼ˆ2ï¼‰æ¯å°æœåŠ¡å™¨çš„Tomcatçš„ç«¯å£ä¸ä¸é…ç½®ä¸­çš„listenä¸€è‡´ï¼Œé‚£ä¹ˆwindowsç³»ç»Ÿæµè§ˆå™¨è®¿é—®æ—¶ï¼Œéœ€è¦åŠ ä¸ŠTomcatçš„ç«¯å£ï¼Œï¼ˆ192.168.198.128ï¼š8080ï¼‰</p>
<p>â€‹         å¦‚æœä¸€è‡´ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä¸åŠ Tomcatçš„ç«¯å£å› ä¸ºNginxæœåŠ¡å™¨é»˜è®¤ç«¯å£ä¸º80</p>
</blockquote>
<p>ï¼ˆ2ï¼‰åŸºäºç«¯å£</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">http &#123; </span><br><span class="line">    upstream shsxt&#123; </span><br><span class="line">        server node01; </span><br><span class="line">        server node02; </span><br><span class="line">     &#125; </span><br><span class="line">	upstream bjsxt&#123; </span><br><span class="line">        server node03</span><br><span class="line">    &#125; </span><br><span class="line"> server &#123; </span><br><span class="line">       //å½“è®¿é—®nginxçš„80ç«¯å£æ—¶ï¼Œå°†è¯·æ±‚å¯¼ç»™bjsxtç»„</span><br><span class="line">        listen 8080; </span><br><span class="line">        server_name 192.168.198.128;</span><br><span class="line">        location / &#123;</span><br><span class="line">            proxy_pass http://bjsxt;</span><br><span class="line">        &#125;</span><br><span class="line">&#125; </span><br><span class="line">  server &#123; </span><br><span class="line">           //å½“è®¿é—®nginxçš„81ç«¯å£æ—¶ï¼Œå°†è¯·æ±‚å¯¼ç»™shsxtç»„</span><br><span class="line">            listen 81; </span><br><span class="line">            server_name 192.168.198.128;  //nginxæœåŠ¡å™¨çš„IP</span><br><span class="line">            location / &#123;</span><br><span class="line">                proxy_pass http://shsxt;</span><br><span class="line">            &#125;</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ï¼ˆ3ï¼‰åŸºäºIP  ï¼šï¼ˆä¸å¸¸ç”¨ï¼‰</p>
<h2 id="å››ã€æ­£å‘ä»£ç†å’Œåå‘ä»£ç†"><a href="#å››ã€æ­£å‘ä»£ç†å’Œåå‘ä»£ç†" class="headerlink" title="å››ã€æ­£å‘ä»£ç†å’Œåå‘ä»£ç†"></a>å››ã€æ­£å‘ä»£ç†å’Œåå‘ä»£ç†</h2><h3 id="1ã€æ­£å‘ä»£ç†"><a href="#1ã€æ­£å‘ä»£ç†" class="headerlink" title="1ã€æ­£å‘ä»£ç†"></a>1ã€æ­£å‘ä»£ç†</h3><p>ç†è§£ï¼š</p>
<blockquote>
<p>ä»£ç†å®¢æˆ·ç«¯ï¼Œå¦‚é€šè¿‡VPN ï¼Œéšè—å®¢æˆ·ç«¯ï¼Œè®¿é—®ç›®æ ‡æœåŠ¡å™¨ï¼ˆæœåŠ¡ç«¯å¯è§ï¼‰</p>
</blockquote>
<p>ä¸¾ä¾‹ï¼š</p>
<blockquote>
<p>å›½å†…ä¸èƒ½ç›´æ¥è®¿é—®è°·æ­Œï¼Œä½†æ˜¯å¯ä»¥è®¿é—®ä»£ç†æœåŠ¡å™¨ï¼Œé€šè¿‡ä»£ç†æœåŠ¡å™¨å¯ä»¥è®¿é—®è°·æ­Œã€‚ï¼ˆå°±æ˜¯ç¿»å¢™ï¼‰</p>
<p>ä½†æ˜¯ï¼Œéœ€è¦å®¢æˆ·ç«¯å¿…é¡»è®¾ç½®æ­£å‘ä»£ç†æœåŠ¡å™¨ï¼Œå¹¶ä¸”è¦çŸ¥é“æ­£å‘ä»£ç†æœåŠ¡å™¨çš„IPåœ°å€å’Œç«¯å£</p>
</blockquote>
<h3 id="2ã€åå‘ä»£ç†"><a href="#2ã€åå‘ä»£ç†" class="headerlink" title="2ã€åå‘ä»£ç†"></a>2ã€åå‘ä»£ç†</h3><p>ç†è§£ï¼š</p>
<blockquote>
<p>ä»£ç†æœåŠ¡ç«¯ï¼Œé€šè¿‡è´Ÿè½½å‡è¡¡æœåŠ¡å™¨ï¼ˆå¦‚Nginxï¼‰ï¼Œéšè—æœåŠ¡ç«¯ï¼Œåˆ†å‘å®¢æˆ·ç«¯çš„ä¸åŒè¯·æ±‚ï¼ˆå®¢æˆ·ç«¯å¯è§ï¼‰åˆ°å†…éƒ¨ç½‘ç»œä¸Šçš„æœåŠ¡å™¨</p>
</blockquote>
<p>ä¸¾ä¾‹ï¼š</p>
<blockquote>
<p>å¦‚æˆ‘ä»¬è®¿é—®<a href="http://www.baidu.comçš„æ—¶å€™ï¼Œå®ƒèƒŒåæœ‰å¾ˆå¤šå°æœåŠ¡å™¨ï¼Œå®¢æˆ·ç«¯å¹¶ä¸çŸ¥é“å…·ä½“æ˜¯å“ªä¸€å°æœåŠ¡å™¨ç»™ä½ æä¾›çš„æœåŠ¡ï¼Œåªè¦çŸ¥é“åå‘ä»£ç†æœåŠ¡å™¨æ˜¯è°å°±å¥½äº†ï¼Œåå‘ä»£ç†æœåŠ¡å™¨å°±ä¼šæŠŠæˆ‘ä»¬çš„è¯·æ±‚è½¬å‘åˆ°çœŸå®æœåŠ¡å™¨ä¸Šã€‚" target="_blank" rel="noopener">www.baidu.comçš„æ—¶å€™ï¼Œå®ƒèƒŒåæœ‰å¾ˆå¤šå°æœåŠ¡å™¨ï¼Œå®¢æˆ·ç«¯å¹¶ä¸çŸ¥é“å…·ä½“æ˜¯å“ªä¸€å°æœåŠ¡å™¨ç»™ä½ æä¾›çš„æœåŠ¡ï¼Œåªè¦çŸ¥é“åå‘ä»£ç†æœåŠ¡å™¨æ˜¯è°å°±å¥½äº†ï¼Œåå‘ä»£ç†æœåŠ¡å™¨å°±ä¼šæŠŠæˆ‘ä»¬çš„è¯·æ±‚è½¬å‘åˆ°çœŸå®æœåŠ¡å™¨ä¸Šã€‚</a></p>
</blockquote>
<p>Nginxå°±æ˜¯æ€§èƒ½å¾ˆå¥½çš„åå‘ä»£ç†æœåŠ¡å™¨ï¼Œç”¨æ¥ä½œè´Ÿè½½å‡è¡¡ã€‚</p>

      </div>
        <div class="support-author">
          <p>æ„Ÿè°¢æ‚¨çš„é˜…è¯»ã€‚ ğŸ™
          <a href="https://www.yarusun.club/" target="_blank">å…³äºè½¬è½½è¯·çœ‹è¿™é‡Œ</a>
            <!--<a class="btn-pay"  href="#pay-modal">Â¥ æ‰“èµæ”¯æŒ</a>-->
          </p>
        </div>
        <!--
            <div class="like ">
              <div class="like-button">
                <a id="like-note" href="">
                  <i class="icon-heart"></i>å–œæ¬¢
                </a>
              </div>
              <span id="likes-count">256</span>
            </div>
        -->
        <div class="otherLink">
          <div class="previous">
          </div>
          <div class="next">
          </div>
        </div>
        <div class="comments" id="comments">
          
<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script type="text/javascript">
  const gitalk = new Gitalk({
    clientID: '6b3c35f853de938a9612',
    clientSecret: '70003661fc70b011a32d9d1b2197666021305201',
    repo: 'sungithup.github.io',
    owner: 'sungithup',
    admin: ['sungithup'],
    id: location.pathname,      // Ensure uniqueness and length less than 50
    distractionFreeMode: false
  })

  gitalk.render('comments');
</script>


        </div>
      </div>
    </div>
   
</main>
<div class="footer">
  <div class="info">
    <p>
    <a href="https://hexo.io"> Hexo </a> å¼ºåŠ›é©±åŠ¨ |
      <a href="https://github.com/Youthink/hexo-themes-yearn"> Yearn </a>
      ä¸»é¢˜
    </p>
    <p>&copy;2013-2019 Sukieçš„ä¸ªäººåšå®¢ äº¬ICPå¤‡xxxxxxå·</p>
  </div>
</div>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<script>//console
  var consoleConfig = '\næ¬¢è¿è®¿é—® https://hufangyun.com ï¼Œå›´è§‚å°çŒ¿å¤§åœ£çš„åšå®¢(ã¥ï½¡â—•â€¿â€¿â—•ï½¡)ã¥ï¼\n,\næœ¬åšå®¢ä½¿ç”¨ %cHexo%c æ­å»ºï¼Œåšå®¢ä¸»é¢˜ä¸ºå°çŒ¿å¤§åœ£å¼€å‘çš„ %chexo-themes-yearn%c ~~~ ğŸ‰ğŸ‰ğŸ‰ \n\næºç  https://github.com/Youthink/hexo-themes-yearn \n\nå¦‚æœå–œæ¬¢å¯ä»¥ star æ”¯æŒä¸€ä¸‹ â¤ï¸~\n,\næ‰«æä¸‹é¢çš„äºŒç»´ç ï¼Œåœ¨æ‰‹æœºä¸ŠæŸ¥çœ‹åšå®¢ï¼\n,https://static.hufangyun.com/blog-url-qrcode-180-180.png,\n æƒ³çŸ¥é“è¿™ä¸ªæ•ˆæœå¦‚ä½•å®ç°çš„ï¼Ÿåšå®¢å†…æœç´¢ console å½©è›‹ ğŸš€ ï¼\n'.split(',');
  var canConsole = true;
  var consoleInfo = (function(consoleConfig) {
  if (!canConsole || !consoleConfig || consoleConfig.length < 1) {
    return;
  }
  var consoleColor = '#6190e8';
  var _console;
  var backgroundTextStyle = 'padding: 1px 5px;color: #fff;background: ' + consoleColor + ';'
  var textStyle = 'color: ' + consoleColor + ';';

  consoleConfig.map(o => {
    var num = (o.match(/%c/g) || []).length;
    if(/^http(s)?:\/\//.test(o)) {
      console.log('%c     ', 'background: url(' + o + ') no-repeat left center;font-size: 180px;');
      return;
    }
    if (num > 0) {
      var logArguments = [];
      for (var i = 0; i < num; i++) {
        if (i % 2 === 0) {
          logArguments.push(backgroundTextStyle);
        } else {
          logArguments.push(textStyle);
        }
      }
      (_console = console).log.apply(_console, ['%c' + o, textStyle].concat(logArguments));
      return;
    }
    console.log('%c' + o, textStyle);
  });
}(consoleConfig));</script><script type="text/javascript" src="/./js/main.d9e3dd.js"></script>

</body>
</html>
