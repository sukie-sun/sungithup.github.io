<!DOCTYPE html>
<html lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no">
<meta name="author" content="Sukie">


    
    


<meta name="description" content="Sukie的个人博客，主要涉及到编程（Java、Python、C、MySql、Linux，etc），仅供个人提升学习之用。">
<meta name="keywords" content="各种资源">
<meta property="og:type" content="website">
<meta property="og:title" content="Sukie山脉">
<meta property="og:url" content="http://sungithup.github.io/index.html">
<meta property="og:site_name" content="Sukie山脉">
<meta property="og:description" content="Sukie的个人博客，主要涉及到编程（Java、Python、C、MySql、Linux，etc），仅供个人提升学习之用。">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Sukie山脉">
<meta name="twitter:description" content="Sukie的个人博客，主要涉及到编程（Java、Python、C、MySql、Linux，etc），仅供个人提升学习之用。">

<link rel="apple-touch-icon" href="/apple-touch-icon.png">


    <link rel="alternate" href="/atom.xml" title="Sukie山脉" type="application/atom+xml">



    <link rel="shortcut icon" href="/favicon.png">



    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">



    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">


<link rel="stylesheet" href="/css/style.css">


    <style> .article { opacity: 0;} </style>


<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>Sukie山脉</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: true,
        isPost: false,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: true
    }
</script>


    <script>
        yiliaConfig.jquery_ui = [true, "//cdn.bootcss.com/jqueryui/1.10.4/jquery-ui.min.js", "//cdn.bootcss.com/jqueryui/1.10.4/css/jquery-ui.min.css"];
    </script>



    <script> yiliaConfig.rootUrl = "\/";</script>





    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?bc39ced90d9f89c71fda7b7d4ca8b638";
            var s = document.getElementsByTagName("script")[0]; 
            s.parentNode.insertBefore(hm, s);
        })();
    </script>


</head></html>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/img/avatar.png" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">Sukie</a></h1>
        </hgroup>

        
        <p class="header-subtitle">肆意玩耍，肆意高歌</p>
        

        
            <form id="search-form">
            <input type="text" id="local-search-input" name="q" placeholder="search..." class="search form-control" autocomplete="off" autocorrect="off" searchonload="false">
            <i class="fa fa-times" onclick="resetSearch()"></i>
            </form>
            <div id="local-search-result"></div>
            <p class="no-result">No results found <i class="fa fa-spinner fa-pulse"></i></p>
        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">主页</a></li>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/tags/essays/">随笔</a></li>
                        
                            <li><a href="/tags/">标签云</a></li>
                        
                            <li><a href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" href="mailto:sunyaru216@163.com" title="Email"></a>
                            
                                <a class="fa 新浪微博" href="http://weibo.com/sunrise200 " title="新浪微博"></a>
                            
                                <a class="fa GitHub" href="https://github.com/sungithup" title="GitHub"></a>
                            
                                <a class="fa RSS" href="/atom.xml" title="RSS"></a>
                            
                                <a class="fa 博客园" href="/cnblogs" title="博客园"></a>
                            
                                <a class="fa CSDN" href="/" title="CSDN"></a>
                            
                                <a class="fa 网易云音乐" href="/netease" title="网易云音乐"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Array/">Array</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CentOS-6/">CentOS 6</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HBase/">HBase</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HDFS/">HDFS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hive/">Hive</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JVM/">JVM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux命令/">Linux命令</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux系统环境/">Linux系统环境</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/List/">List</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Map/">Map</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MapReduce/">MapReduce</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nginx/">Nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Redis/">Redis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Set/">Set</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Storm，流式处理框架/">Storm，流式处理框架</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/String/">String</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Zookeeper/">Zookeeper</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flume/">flume</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hadoop/">hadoop</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/maven/">maven</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/yarn/">yarn</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/分而治之/">分而治之</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/系统学习/">系统学习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/编程语言/">编程语言</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/负载均衡/">负载均衡</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/静态/">静态</a></li></ul>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a class="main-nav-link switch-friends-link" href="https://hexo.io">Hexo</a>
                    
                      <a class="main-nav-link switch-friends-link" href="https://pages.github.com/">GitHub</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://moxfive.xyz/">MOxFIVE</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">正宗小白</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">Sukie</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/img/avatar.png" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">Sukie</a></h1>
            </hgroup>
            
            <p class="header-subtitle">肆意玩耍，肆意高歌</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">主页</a></li>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/tags/essays/">随笔</a></li>
                
                    <li><a href="/tags/">标签云</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" target="_blank" href="mailto:sunyaru216@163.com" title="Email"></a>
                            
                                <a class="fa 新浪微博" target="_blank" href="http://weibo.com/sunrise200 " title="新浪微博"></a>
                            
                                <a class="fa GitHub" target="_blank" href="https://github.com/sungithup" title="GitHub"></a>
                            
                                <a class="fa RSS" target="_blank" href="/atom.xml" title="RSS"></a>
                            
                                <a class="fa 博客园" target="_blank" href="/cnblogs" title="博客园"></a>
                            
                                <a class="fa CSDN" target="_blank" href="/" title="CSDN"></a>
                            
                                <a class="fa 网易云音乐" target="_blank" href="/netease" title="网易云音乐"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="标签" friends="友情链接" about="关于我">
</nav>
      <div class="body-wrap">
  
    <article id="post-Set方法" class="article article-type-post" itemscope="" itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/02/16/Set方法/" class="article-date">
      <time datetime="2019-02-15T16:00:00.000Z" itemprop="datePublished">2019-02-16</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/02/16/Set方法/">Set方法</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              Scala中Set的方法
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Scala/">Scala</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Set/">Set</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a href="/2019/02/16/Set方法/#more">阅读全文 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











<!--gitment 评论-->

<!--gitment 评论 end-->
  
    <article id="post-数组方法 " class="article article-type-post" itemscope="" itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/02/16/数组方法 /" class="article-date">
      <time datetime="2019-02-15T16:00:00.000Z" itemprop="datePublished">2019-02-16</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/02/16/数组方法 /">数组方法</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              Scala中Array的方法
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Scala/">Scala</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Array/">Array</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a href="/2019/02/16/数组方法 /#more">阅读全文 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











<!--gitment 评论-->

<!--gitment 评论 end-->
  
    <article id="post-String方法" class="article article-type-post" itemscope="" itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/02/16/String方法/" class="article-date">
      <time datetime="2019-02-15T16:00:00.000Z" itemprop="datePublished">2019-02-16</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/02/16/String方法/">String 方法</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              Scala中String的方法
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Scala/">Scala</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/String/">String</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a href="/2019/02/16/String方法/#more">阅读全文 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











<!--gitment 评论-->

<!--gitment 评论 end-->
  
    <article id="post-Map方法" class="article article-type-post" itemscope="" itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/02/16/Map方法/" class="article-date">
      <time datetime="2019-02-15T16:00:00.000Z" itemprop="datePublished">2019-02-16</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/02/16/Map方法/">Map方法</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              Scala中Map的方法
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Scala/">Scala</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Map/">Map</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a href="/2019/02/16/Map方法/#more">阅读全文 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











<!--gitment 评论-->

<!--gitment 评论 end-->
  
    <article id="post-List方法" class="article article-type-post" itemscope="" itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/02/16/List方法/" class="article-date">
      <time datetime="2019-02-15T16:00:00.000Z" itemprop="datePublished">2019-02-16</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/02/16/List方法/">List方法</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              Scala中List的方法
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Scala/">Scala</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/List/">List</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a href="/2019/02/16/List方法/#more">阅读全文 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











<!--gitment 评论-->

<!--gitment 评论 end-->
  
    <article id="post-Scala学习" class="article article-type-post" itemscope="" itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/02/15/Scala学习/" class="article-date">
      <time datetime="2019-02-14T16:00:00.000Z" itemprop="datePublished">2019-02-15</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>[TOC]</p>
<h1 id="一、Scala官网6个特征。"><a href="#一、Scala官网6个特征。" class="headerlink" title="一、Scala官网6个特征。"></a>一、Scala官网6个特征。</h1><h2 id="简捷，快速"><a href="#简捷，快速" class="headerlink" title="简捷，快速"></a>简捷，快速</h2><h2 id="1、Java"><a href="#1、Java" class="headerlink" title="1、Java"></a>1、Java</h2><ul>
<li>与Java无缝整合，运行在JVM上，编译形成.class文件</li>
</ul>
<h2 id="2、类型"><a href="#2、类型" class="headerlink" title="2、类型"></a>2、类型</h2><ul>
<li>类型自动推断:var 变量类型   val 常量类型<br> （var  s = 1 自动推断s 为int类型 ）<br>  dos窗口运行Scala语言（cmd  - &gt;scala）  </li>
</ul>
<h2 id="3、并发"><a href="#3、并发" class="headerlink" title="3、并发"></a>3、并发</h2><ul>
<li>底层有actor，天生用于高并发和分布式</li>
</ul>
<h2 id="4、继承"><a href="#4、继承" class="headerlink" title="4、继承"></a>4、继承</h2><ul>
<li>trait 特征特质（Java中接口和抽象类的结合体？？？两者区别？？单继承多实现）<br>​    静态语言  （Java静态语言  shell 、Python动态语言）</li>
</ul>
<h2 id="5、匹配"><a href="#5、匹配" class="headerlink" title="5、匹配"></a>5、匹配</h2><ul>
<li>模式匹配:(Java中的switch case类型必须一致)可匹配多种类型</li>
</ul>
<h2 id="6、高阶"><a href="#6、高阶" class="headerlink" title="6、高阶"></a>6、高阶</h2><ul>
<li>高阶函数（函数式编程）函数可以作为参数传入方法中（Jdk 8 stream流，莱姆塔表达式）</li>
</ul>
<p>​       工具类中方法为静态的</p>
<h1 id="二、Scala安装"><a href="#二、Scala安装" class="headerlink" title="二、Scala安装"></a>二、Scala安装</h1><h2 id="1、windows安装-配置环境变量"><a href="#1、windows安装-配置环境变量" class="headerlink" title="1、windows安装,配置环境变量"></a>1、windows安装,配置环境变量</h2><p>Ø  官网下载scala2.10：（因为spark需要的是这个版本的Scala）</p>
<p><a href="http://www.scala-lang.org/download/2.10.4.html" target="_blank" rel="noopener">http://www.scala-lang.org/download/2.10.4.html</a> </p>
<p>Ø  下载好后安装。双击msi包安装,记住安装的路径。</p>
<p>Ø  配置环境变量（和配置jdk一样）</p>
<ul>
<li><p>新建SCALA_HOME</p>
</li>
<li><p>编辑Path变量，在后面追加如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">;%SCALA_HOME%\bin</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>Ø  打开cmd,输入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scala  - version</span><br></pre></td></tr></table></figure>
<p>看是否显示版本号，确定是否安装成功</p>
<p><img src="images/Scala.jpg" alt=""></p>
<h2 id="2、eclipse-配置scala插件"><a href="#2、eclipse-配置scala插件" class="headerlink" title="2、eclipse 配置scala插件"></a>2、eclipse 配置scala插件</h2><p>Ø  下载插件（一定要对应eclipse版本下载）,并解压</p>
<p><a href="http://scala-ide.org/download/prev-stable.html" target="_blank" rel="noopener">http://scala-ide.org/download/prev-stable.html</a></p>
<p><img src="images/eclipse.jpg" alt=""></p>
<p>Ø  将解压目录下的features和plugins两个文件夹拷贝到eclipse安装目录中的”dropins/scala”目录下。</p>
<p>进入dropins，新建scala文件夹，将两个文件夹拷贝到“dropins/scala”下</p>
<h2 id="3、Scala编辑器：scala-ide"><a href="#3、Scala编辑器：scala-ide" class="headerlink" title="3、Scala编辑器：scala ide"></a>3、Scala编辑器：scala ide</h2><p>下载网址：<a href="http://scala-ide.org/download/sdk.html" target="_blank" rel="noopener">http://scala-ide.org/download/sdk.html</a> </p>
<h2 id="4、Idea-中配置scala插件"><a href="#4、Idea-中配置scala插件" class="headerlink" title="4、Idea 中配置scala插件"></a>4、Idea 中配置scala插件</h2><p>Ø  打开idea,close项目后，点击Configure-&gt;Plugins</p>
<p>Ø  搜索scala，点击Install安装</p>
<p>Ø  设置jdk，打开Project Structure,点击new 选择安装好的jdk路径</p>
<p>Ø 新建Scala项目</p>
<p><img src="images/s1.jpg" alt=""></p>
<p><img src="images/s2.jpg" alt=""></p>
<h1 id="三、Scala基础语法"><a href="#三、Scala基础语法" class="headerlink" title="三、Scala基础语法"></a>三、Scala基础语法</h1><h2 id="1、数据类型"><a href="#1、数据类型" class="headerlink" title="1、数据类型"></a>1、数据类型</h2><p><img src="images/s4.jpg" alt=""></p>
<p><img src="images/s5.jpg" alt=""></p>
<h2 id="2、变量和常量的声明"><a href="#2、变量和常量的声明" class="headerlink" title="2、变量和常量的声明"></a><strong>2</strong>、<strong>变量和常量的声明</strong></h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 定义变量和常量</span></span><br><span class="line"><span class="comment">     * 变量 :用 var 定义 ，可修改 </span></span><br><span class="line"><span class="comment">     * 常量 :用 val 定义，不可修改</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">var</span> name = <span class="string">"zhangsan"</span></span><br><span class="line">    println(name)</span><br><span class="line">    name =<span class="string">"lisi"</span></span><br><span class="line">    println(name)</span><br><span class="line">    <span class="keyword">val</span> gender = <span class="string">"m"</span></span><br><span class="line"><span class="comment">//    gender = "m"//错误，不能给常量再赋值</span></span><br><span class="line"><span class="comment">// 定义变量或者常量的时候，也可以写上返回的类型，一般省略，如：val a:Int = 10</span></span><br></pre></td></tr></table></figure>
<h2 id="3、类和对象"><a href="#3、类和对象" class="headerlink" title="3、类和对象"></a><strong>3、</strong>类和对象</h2><p>Ø  创建类</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">  <span class="keyword">val</span> name = <span class="string">"zhangsan"</span></span><br><span class="line">  <span class="keyword">val</span> age = <span class="number">18</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">sayName</span></span>() = &#123;</span><br><span class="line">    <span class="string">"my name is "</span>+ name</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Ø  创建对象</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Lesson_Class</span> </span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> person = <span class="keyword">new</span> <span class="type">Person</span>()</span><br><span class="line">    println(person.age);</span><br><span class="line">    println(person.sayName())</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Ø  伴生类和伴生对象</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>(<span class="params">xname :<span class="type">String</span> , xage :<span class="type">Int</span></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> name = <span class="type">Person</span>.name</span><br><span class="line">  <span class="keyword">val</span> age = xage</span><br><span class="line">  <span class="keyword">var</span> gender = <span class="string">"m"</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">this</span></span>(name:<span class="type">String</span>,age:<span class="type">Int</span>,g:<span class="type">String</span>)&#123;</span><br><span class="line">    <span class="keyword">this</span>(name,age)</span><br><span class="line">    gender = g</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">sayName</span></span>() = &#123;</span><br><span class="line">    <span class="string">"my name is "</span>+ name</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="keyword">val</span> name = <span class="string">"zhangsanfeng"</span></span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> person = <span class="keyword">new</span> <span class="type">Person</span>(<span class="string">"wagnwu"</span>,<span class="number">10</span>,<span class="string">"f"</span>)</span><br><span class="line">    println(person.age);</span><br><span class="line">    println(person.sayName())</span><br><span class="line">    println(person.gender)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>注意</code></p>
<blockquote>
<ul>
<li>建议类名首字母大写 ，方法首字母小写，类和方法命名建议符合驼峰命名法。</li>
<li>.一行结束，不需要分号。如果一行里有多个语句，则之间用分号隔开。</li>
<li>scala 中的object是单例对象，相当于java中的工具类，它里面的方法可以看成都是static静态的。object不可以传参数。另：Trait不可以传参数</li>
<li><p>scala中的class类默认可以传参数，默认的传参数就是默认的构造函数。</p>
<p>重写构造函数的时候，必须要先调用默认的构造函数。</p>
</li>
<li><p>class 类属性自带getter ，setter方法。</p>
</li>
<li>使用object时，不用new，使用class时要new ,并且new的时候，class中除了方法不执行，其他都执行。</li>
<li>如果在同一个文件中，object对象和class类的名称相同，则这个对象就是这个类的伴生对象，class称为object对象的伴生类，object 称为class类的伴生对象，他们可以直接访问对方的私有变量。</li>
</ul>
</blockquote>
<h2 id="3-if-else"><a href="#3-if-else" class="headerlink" title="3.  if else"></a><strong>3.</strong>  <strong>if else</strong></h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * if else </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">val</span> age =<span class="number">18</span> </span><br><span class="line"><span class="keyword">if</span> (age &lt; <span class="number">18</span> )&#123;</span><br><span class="line">	println(<span class="string">"no allow"</span>)</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span> (<span class="number">18</span>&lt;=age&amp;&amp;age&lt;=<span class="number">20</span>)&#123;</span><br><span class="line">	println(<span class="string">"allow with other"</span>)</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">	println(<span class="string">"allow self"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="4-for-while-do…while"><a href="#4-for-while-do…while" class="headerlink" title="4.   for ,while,do…while"></a><strong>4.</strong>   for ,while,do…while</h2><ul>
<li>to和until 的用法（不带步长，带步长区别）</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">/**        </span></span><br><span class="line"><span class="comment">  * to和until        </span></span><br><span class="line"><span class="comment">  * 例：        </span></span><br><span class="line"><span class="comment">  * 1 to 10 返回1到10的Range数组，包含10        </span></span><br><span class="line"><span class="comment">  * 1 until 10 返回1到10 Range数组 ，不包含10        </span></span><br><span class="line"><span class="comment">  */</span>              </span><br><span class="line">println(<span class="number">1</span> to <span class="number">10</span> )<span class="comment">//打印： Range(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)      </span></span><br><span class="line">println(<span class="number">1.</span>to(<span class="number">10</span>))<span class="comment">//同上</span></span><br><span class="line"></span><br><span class="line">println(<span class="number">1</span> to (<span class="number">10</span> ,<span class="number">2</span>))<span class="comment">//步长为2，从1开始打印： Range(1, 3, 5, 7, 9)      </span></span><br><span class="line">println(<span class="number">1.</span>to(<span class="number">10</span>, <span class="number">2</span>)) <span class="comment">//同上</span></span><br><span class="line"></span><br><span class="line">println(<span class="number">1</span> until <span class="number">10</span> ) <span class="comment">//不包含最后一个数，打印1,2,3,4,5,6,7,8,9     </span></span><br><span class="line">println(<span class="number">1.</span>until(<span class="number">10</span>))<span class="comment">//同上          </span></span><br><span class="line">println(<span class="number">1</span> until (<span class="number">10</span> ,<span class="number">3</span> ))<span class="comment">//步长为2，从1开始打印，打印1,4,7</span></span><br></pre></td></tr></table></figure>
<ul>
<li>创建for循环</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * for 循环</span></span><br><span class="line"><span class="comment">  * </span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="keyword">for</span>( i &lt;- <span class="number">1</span> to <span class="number">10</span> )&#123;</span><br><span class="line">   println(i)</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>创建多层for循环</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//可以分号隔开，写入多个list赋值的变量，构成多层for循环</span></span><br><span class="line">    <span class="comment">//scala中 不能写count++ count-- 只能写count+</span></span><br><span class="line">    <span class="keyword">var</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(i &lt;- <span class="number">1</span> to <span class="number">10</span>; j &lt;- <span class="number">1</span> until <span class="number">10</span>)&#123;</span><br><span class="line">      println(<span class="string">"i="</span>+ i +<span class="string">",	j="</span>+j)</span><br><span class="line">      count += <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    println(count);</span><br><span class="line"> <span class="comment">//例子： 打印小九九</span></span><br><span class="line">    <span class="keyword">for</span>(i &lt;- <span class="number">1</span> until <span class="number">10</span> ;j &lt;- <span class="number">1</span> until <span class="number">10</span>)&#123;</span><br><span class="line">      <span class="keyword">if</span>(i&gt;=j)&#123;</span><br><span class="line">    	  print(i +<span class="string">" * "</span> + j + <span class="string">" = "</span>+ i*j+<span class="string">"	"</span>)        </span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span>(i==j )&#123;</span><br><span class="line">        println()</span><br><span class="line">      &#125;      </span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//九九乘法表</span></span><br><span class="line">     <span class="comment">//方法一</span></span><br><span class="line"><span class="comment">//      for(i&lt;- 1 to 9 )&#123;</span></span><br><span class="line"><span class="comment">//        for (j &lt;- 1 to i)&#123;</span></span><br><span class="line"><span class="comment">//          print(j+"*"+i+"="+i*j+"\t")</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"><span class="comment">//        println()</span></span><br><span class="line"><span class="comment">//      &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//方法二</span></span><br><span class="line"><span class="comment">//    for(i&lt;- 1 to 9 )&#123;</span></span><br><span class="line"><span class="comment">//      for (j&lt;- 1 to 9)&#123;</span></span><br><span class="line"><span class="comment">//        if(j&lt;=i)&#123;</span></span><br><span class="line"><span class="comment">//          print(j+"*"+i+"="+i*j+"\t")</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//        if(i==j)println()</span></span><br><span class="line"><span class="comment">//      &#125;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>for循环中可以加条件判断，分号隔开</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">//可以在for循环中加入条件判断</span></span><br><span class="line">    <span class="keyword">for</span>(i&lt;- <span class="number">1</span> to <span class="number">10</span> ;<span class="keyword">if</span> (i%<span class="number">2</span>) == <span class="number">0</span> ;<span class="keyword">if</span> (i == <span class="number">4</span>) )&#123;</span><br><span class="line">      println(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>scala中不能使用count++，count只能使用count = count+1 ，count += 1</p>
</li>
<li><p>while循环，while（）{}，do {}while()</p>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">//将for中的符合条件的元素通过yield关键字返回成一个集合</span></span><br><span class="line">    <span class="keyword">val</span> list = <span class="keyword">for</span>(i &lt;- <span class="number">1</span> to <span class="number">10</span>  ; <span class="keyword">if</span>(i &gt; <span class="number">5</span> )) <span class="keyword">yield</span> i </span><br><span class="line"><span class="comment">//&lt;-  后面是一个集合</span></span><br><span class="line">    <span class="keyword">for</span>( w &lt;- list )&#123;</span><br><span class="line">      println(w)</span><br><span class="line">&#125;</span><br><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * while 循环</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">var</span> index = <span class="number">0</span> </span><br><span class="line">    <span class="keyword">while</span>(index &lt; <span class="number">100</span> )&#123;</span><br><span class="line">    	println(<span class="string">"第"</span>+index+<span class="string">"次while 循环"</span>)</span><br><span class="line">      index += <span class="number">1</span> </span><br><span class="line">    &#125;</span><br><span class="line"> index = <span class="number">0</span> </span><br><span class="line">    do&#123;</span><br><span class="line">    	index +=<span class="number">1</span> </span><br><span class="line">    	println(<span class="string">"第"</span>+index+<span class="string">"次do while 循环"</span>)</span><br><span class="line">&#125;<span class="keyword">while</span>(index &lt;<span class="number">100</span> )</span><br></pre></td></tr></table></figure>
<h1 id="四、Scala函数"><a href="#四、Scala函数" class="headerlink" title="四、Scala函数"></a>四、Scala函数</h1><h2 id="1、函数定义"><a href="#1、函数定义" class="headerlink" title="1、函数定义"></a>1、函数定义</h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun</span> </span>(a: <span class="type">Int</span> , b: <span class="type">Int</span> ) : <span class="type">Unit</span> = &#123;</span><br><span class="line">   println(a+b)</span><br><span class="line"> &#125;</span><br><span class="line">fun(<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun1</span> </span>(a : <span class="type">Int</span> , b : <span class="type">Int</span>)= a+b</span><br><span class="line">    println(fun1(<span class="number">1</span>,<span class="number">2</span>))</span><br></pre></td></tr></table></figure>
<p><code>语法解释</code></p>
<blockquote>
<ul>
<li>函数定义语法 用def来定义</li>
<li>可以定义传入的参数，要指定传入参数的类型</li>
<li>scala中函数中如果返回返回值类型为Unit ，即无返回值</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="function"><span class="keyword">def</span> <span class="title">add</span></span>(x:<span class="type">Int</span>=<span class="number">10</span>,y:<span class="type">Int</span>=<span class="number">11</span>):<span class="type">Unit</span> =&#123;</span><br><span class="line">&gt;         x+y</span><br><span class="line">&gt;     &#125;</span><br><span class="line">&gt; <span class="comment">//写返回值类型是=时，一定要记得写 ：（冒号）</span></span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<ul>
<li><p>scala中函数有返回值时，可以写return，也可以不写return：</p>
</li>
<li><ul>
<li>省略return的时候，函数自动回将最后一行的表达式的值，作为返回值</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt;  <span class="function"><span class="keyword">def</span> <span class="title">max</span></span>(x:<span class="type">Int</span>,y:<span class="type">Int</span> )=&#123;</span><br><span class="line">&gt;       <span class="keyword">if</span> (x&gt;y)</span><br><span class="line">&gt;           x</span><br><span class="line">&gt;       <span class="keyword">else</span></span><br><span class="line">&gt;          y</span><br><span class="line">&gt;     &#125;</span><br><span class="line">&gt;  println(max(<span class="number">5</span>,<span class="number">7</span>))</span><br><span class="line">&gt; 结果显示：<span class="number">7</span></span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<pre><code>* * 如果函数有retrun,则必须写返回类型。
</code></pre><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;   <span class="function"><span class="keyword">def</span> <span class="title">min</span></span>(m:<span class="type">Int</span>,n:<span class="type">Int</span>):<span class="type">Int</span>=&#123;</span><br><span class="line">&gt;       <span class="keyword">if</span>(m&gt;n)</span><br><span class="line">&gt;         <span class="keyword">return</span> n</span><br><span class="line">&gt;       <span class="keyword">else</span></span><br><span class="line">&gt;         <span class="keyword">return</span> m</span><br><span class="line">&gt;     &#125;</span><br><span class="line">&gt;     println(min(<span class="number">5</span>,<span class="number">7</span>))</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<pre><code>* scala中函数有返回值时，可以写返回值的类型，也可以省略，因为scala可以类型自动推断，有时候不能省略，必须写，
* * 比如在递归函数中或者函数的返回值是函数类型的时候。
</code></pre><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;  <span class="function"><span class="keyword">def</span> <span class="title">num</span></span>(x: <span class="type">Int</span>): <span class="type">Int</span> = &#123;</span><br><span class="line">&gt;             <span class="keyword">if</span> (x == <span class="number">1</span>)</span><br><span class="line">&gt;                 <span class="number">1</span></span><br><span class="line">&gt;             <span class="keyword">else</span> &#123;</span><br><span class="line">&gt;                 x * num(x - <span class="number">1</span>)</span><br><span class="line">&gt;             &#125;</span><br><span class="line">&gt;         &#125;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<pre><code>* 函数定义的时候，如果去掉 = ，那么这个方法返回类型必定是Unit的。

     这种说法无论方法体里面什么逻辑都成立，scala可以把任意类型转换为Unit。

     假设，里面的逻辑最后返回了一个string，那么这个返回值会被转换成Unit，并且值会被丢弃。

     则相当于，函数就将返回值去掉，即无返回值。

* {}里的代码，如果只有一行，则可以省略{}

*  传递给方法的参数可以在方法中使用，并且scala规定方法的传过来的参数为val类型，不能修改，不是var。
</code></pre></blockquote>
<h2 id="2、递归函数"><a href="#2、递归函数" class="headerlink" title="2、递归函数"></a>2、递归函数</h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 递归函数 </span></span><br><span class="line"><span class="comment">    * 5的阶乘</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">fun2</span></span>(num :<span class="type">Int</span>) :<span class="type">Int</span>= &#123;</span><br><span class="line">     <span class="keyword">if</span>(num ==<span class="number">1</span>)</span><br><span class="line">       num</span><br><span class="line">     <span class="keyword">else</span> </span><br><span class="line">       num * fun2(num<span class="number">-1</span>)</span><br><span class="line">   &#125;</span><br><span class="line">   print(fun2(<span class="number">5</span>))</span><br></pre></td></tr></table></figure>
<h2 id="3、包含参数默认值的函数"><a href="#3、包含参数默认值的函数" class="headerlink" title="3、包含参数默认值的函数"></a>3、<strong>包含参数默认值的函数</strong></h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 包含默认参数值的函数</span></span><br><span class="line"><span class="comment">    * 注意：</span></span><br><span class="line"><span class="comment">    * 1.默认值的函数中，如果传入的参数个数与函数定义相同，则传入的数值会覆盖默认值</span></span><br><span class="line"><span class="comment">    * 2.如果不想覆盖默认值，传入的参数个数小于定义的函数的参数，则需要指定参数名称</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">fun3</span></span>(a :<span class="type">Int</span> = <span class="number">10</span>,b:<span class="type">Int</span>) = &#123;</span><br><span class="line">     println(a+b)</span><br><span class="line">   &#125;</span><br><span class="line">   fun3(b=<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<h2 id="4、可变参数个数的函数"><a href="#4、可变参数个数的函数" class="headerlink" title="4、可变参数个数的函数"></a><strong>4</strong>、可变参数个数的函数</h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 可变参数个数的函数</span></span><br><span class="line"><span class="comment"> * 注意：多个参数逗号分开</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun4</span></span>(elem :<span class="type">Int</span>*)=&#123;</span><br><span class="line">  <span class="keyword">var</span> sum = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span>(e &lt;- elem)&#123;</span><br><span class="line">    sum += e</span><br><span class="line">  &#125;</span><br><span class="line">  sum</span><br><span class="line">&#125;</span><br><span class="line">println(fun4(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>))</span><br></pre></td></tr></table></figure>
<h2 id="5、匿名函数"><a href="#5、匿名函数" class="headerlink" title="5、匿名函数"></a><strong>5、</strong>匿名函数</h2><ul>
<li><p>有参匿名函数</p>
</li>
<li><p>无参匿名函数</p>
</li>
<li><p>有返回值的匿名函数</p>
</li>
</ul>
<blockquote>
<p>可以将匿名函数返回给val定义的值</p>
<p>匿名函数不能显式声明函数的返回类型</p>
</blockquote>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//有参数匿名函数</span></span><br><span class="line"><span class="keyword">val</span> fun1 = (a : <span class="type">Int</span> ， b : <span class="type">Int</span>) =&gt; &#123;</span><br><span class="line">  println(a+b)</span><br><span class="line">&#125;</span><br><span class="line">value1(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//无参数匿名函数</span></span><br><span class="line"><span class="keyword">val</span> fun2 = ()=&gt;&#123;</span><br><span class="line">  println(<span class="string">"啦啦啦"</span>)</span><br><span class="line">&#125;</span><br><span class="line">fun2()</span><br><span class="line"></span><br><span class="line"><span class="comment">//有返回值的匿名函数</span></span><br><span class="line"><span class="keyword">val</span> fun3 = (a:<span class="type">Int</span>,b:<span class="type">Int</span>) =&gt;&#123;</span><br><span class="line">  a+b</span><br><span class="line">&#125;</span><br><span class="line">println(fun3(<span class="number">4</span>,<span class="number">4</span>))</span><br></pre></td></tr></table></figure>
<h2 id="6、-嵌套函数"><a href="#6、-嵌套函数" class="headerlink" title="6、 嵌套函数"></a><strong>6、</strong> <strong>嵌套函数</strong></h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 嵌套函数</span></span><br><span class="line"><span class="comment">    * 例如：嵌套函数求5的阶乘</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">fun5</span></span>(num:<span class="type">Int</span>)=&#123;</span><br><span class="line">     <span class="function"><span class="keyword">def</span> <span class="title">fun6</span></span>(a:<span class="type">Int</span>,b:<span class="type">Int</span>):<span class="type">Int</span>=&#123;</span><br><span class="line">       <span class="keyword">if</span>(a == <span class="number">1</span>)&#123;</span><br><span class="line">         b</span><br><span class="line">       &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">         fun6(a<span class="number">-1</span>,a*b)</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br><span class="line">     fun6(num,<span class="number">1</span>)</span><br><span class="line">   &#125;</span><br><span class="line">   println(fun5(<span class="number">5</span>))</span><br></pre></td></tr></table></figure>
<h2 id="7、偏应用函数"><a href="#7、偏应用函数" class="headerlink" title="7、偏应用函数"></a><strong>7、偏应用函数</strong></h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.<span class="type">Date</span></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 偏应用函数是一种表达式</span></span><br><span class="line"><span class="comment">     * 不需要提供函数需要的所有参数，</span></span><br><span class="line"><span class="comment">     * 只需要提供部分，或不提供所需参数。</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">log</span></span>(date :<span class="type">Date</span>, s :<span class="type">String</span>)= &#123;</span><br><span class="line">      println(<span class="string">"date is "</span>+ date +<span class="string">",log is "</span>+ s)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">val</span> date = <span class="keyword">new</span> <span class="type">Date</span>()</span><br><span class="line">    log(date ,<span class="string">"log1"</span>)</span><br><span class="line">    log(date ,<span class="string">"log2"</span>)</span><br><span class="line">    log(date ,<span class="string">"log3"</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//想要调用log，以上变化的是第二个参数，可以用偏应用函数处理,来优化log方法</span></span><br><span class="line">   <span class="comment">/* 绑定第一个 date 参数，</span></span><br><span class="line"><span class="comment">    * 第二个参数使用下划线(_)替换缺失的参数列表，</span></span><br><span class="line"><span class="comment">    * 并把这个新的函数值的索引的赋给变量。</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">val</span> logWithDate = log(date,_:<span class="type">String</span>)</span><br><span class="line">    logWithDate(<span class="string">"log11"</span>)</span><br><span class="line">    logWithDate(<span class="string">"log22"</span>)</span><br><span class="line">    logWithDate(<span class="string">"log33"</span>)</span><br></pre></td></tr></table></figure>
<h2 id="8、高阶函数"><a href="#8、高阶函数" class="headerlink" title="8、高阶函数"></a>8、<strong>高阶函数</strong></h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 高阶函数:就是操作其他函数的函数</span></span><br><span class="line"><span class="comment">     * 函数的参数是函数		</span></span><br><span class="line"><span class="comment">     * 或者函数的返回是函数		</span></span><br><span class="line"><span class="comment">     * 或者函数的参数和返回都是函数</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="comment">//函数作为参数或者返回累心时，只需指明函数中的类型    </span></span><br><span class="line">    <span class="comment">//函数的参数是函数：</span></span><br><span class="line">    <span class="comment">//f : (Int,Int) =&gt;Int  （两个Int型参数、Int型返回值）</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">hightFun</span></span>(f : (<span class="type">Int</span>,<span class="type">Int</span>) =&gt;<span class="type">Int</span>, a:<span class="type">Int</span> ) : <span class="type">Int</span> = &#123;</span><br><span class="line">      f(a,<span class="number">100</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f</span></span>(v1 :<span class="type">Int</span>,v2: <span class="type">Int</span>):<span class="type">Int</span>  = &#123;</span><br><span class="line">      v1+v2</span><br><span class="line">    &#125;  </span><br><span class="line">    println(hightFun(f, <span class="number">1</span>))</span><br><span class="line">          <span class="comment">//***************</span></span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">test1</span></span>(x: <span class="type">Int</span>, f: (<span class="type">Int</span>, <span class="type">Int</span>) =&gt; <span class="type">Int</span>) = &#123;</span><br><span class="line">            <span class="keyword">var</span> a = x + <span class="number">100</span></span><br><span class="line">            a * f(<span class="number">1</span>, <span class="number">3</span>)</span><br><span class="line">        &#125;</span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">sum</span></span>(x: <span class="type">Int</span>, y: <span class="type">Int</span>): <span class="type">Int</span> = &#123;</span><br><span class="line">            x - y</span><br><span class="line">        &#125;</span><br><span class="line">     println(test6(<span class="number">10</span>,sum))</span><br><span class="line"><span class="comment">//------------------------------------------------</span></span><br><span class="line">    <span class="comment">//函数的返回值类型为函数 ：(Int,Int)=&gt;Int  f2</span></span><br><span class="line">    <span class="comment">//1，2,3,4相加</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">hightFun2</span></span>(a : <span class="type">Int</span>,b:<span class="type">Int</span>) : (<span class="type">Int</span>,<span class="type">Int</span>)=&gt;<span class="type">Int</span> = &#123;</span><br><span class="line">      <span class="function"><span class="keyword">def</span> <span class="title">f2</span> </span>(v1: <span class="type">Int</span>,v2:<span class="type">Int</span>) :<span class="type">Int</span> = &#123;</span><br><span class="line">        v1+v2+a+b</span><br><span class="line">      &#125;</span><br><span class="line">      f2</span><br><span class="line">    &#125;</span><br><span class="line">    println(hightFun2(<span class="number">1</span>,<span class="number">2</span>)(<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line">            <span class="comment">//***********</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test2</span></span>(x: <span class="type">Int</span>): (<span class="type">Int</span>) =&gt; <span class="type">String</span> = &#123;</span><br><span class="line">            <span class="function"><span class="keyword">def</span> <span class="title">concat</span></span>(y: <span class="type">Int</span>): <span class="type">String</span> = &#123;</span><br><span class="line">                x + <span class="string">" !! "</span> + y</span><br><span class="line">            &#125;</span><br><span class="line">            concat</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">val</span> concat: <span class="type">Int</span> =&gt; <span class="type">String</span> = test2(<span class="number">5</span>)</span><br><span class="line">    println(concat(<span class="number">7</span>))</span><br><span class="line"><span class="comment">//        println(test2(5)(7))</span></span><br><span class="line"> <span class="comment">//-------------------------------------------------   </span></span><br><span class="line">    <span class="comment">//函数的参数是函数:  f : (Int ,Int) =&gt; Int)</span></span><br><span class="line">    <span class="comment">//函数的返回是函数:  (Int,Int) =&gt; Int</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">hightFun3</span></span>(f : (<span class="type">Int</span> ,<span class="type">Int</span>) =&gt; <span class="type">Int</span>) : (<span class="type">Int</span>,<span class="type">Int</span>) =&gt; <span class="type">Int</span> = &#123;</span><br><span class="line">      f</span><br><span class="line">    &#125; </span><br><span class="line">    println(hightFun3(f)(<span class="number">100</span>,<span class="number">200</span>))</span><br><span class="line">    println(hightFun3((a,b) =&gt;&#123;a+b&#125;)(<span class="number">200</span>,<span class="number">200</span>))</span><br><span class="line">    <span class="comment">//以上这句话还可以写成这样</span></span><br><span class="line">    <span class="comment">//如果函数的参数在方法体中只使用了一次 那么可以写成_表示</span></span><br><span class="line">    println(hightFun3(_+_)(<span class="number">200</span>,<span class="number">200</span>))</span><br><span class="line">            <span class="comment">//**********</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test3</span></span>(y: <span class="type">Int</span>, f: (<span class="type">Int</span>) =&gt; <span class="type">Int</span>): (<span class="type">Int</span>) =&gt; <span class="type">Int</span> = &#123;</span><br><span class="line">            <span class="keyword">var</span> sum = f(<span class="number">1</span>) + y</span><br><span class="line">            <span class="function"><span class="keyword">def</span> <span class="title">sum4</span></span>(x: <span class="type">Int</span>) = &#123;</span><br><span class="line">                x + sum</span><br><span class="line">            &#125;</span><br><span class="line">            sum4</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//        def f2 (x: Int) =&#123;</span></span><br><span class="line"><span class="comment">//            x + 10</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line">        <span class="keyword">val</span> f = test3(<span class="number">10</span>,(x:<span class="type">Int</span>)=&gt;&#123;x + <span class="number">10</span>&#125;)</span><br><span class="line"><span class="comment">//        println(f(5))</span></span><br></pre></td></tr></table></figure>
<h2 id="9、柯里化函数"><a href="#9、柯里化函数" class="headerlink" title="9、柯里化函数"></a>9、柯里化函数</h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 柯里化函数</span></span><br><span class="line"><span class="comment">    * 可以理解为高阶函数的简化</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">fun1</span></span>(a :<span class="type">Int</span>,b:<span class="type">Int</span>)(c:<span class="type">Int</span>,d:<span class="type">Int</span>) = &#123;</span><br><span class="line">     a+b+c+d</span><br><span class="line">   &#125;</span><br><span class="line">   println(fun1(<span class="number">1</span>,<span class="number">2</span>)(<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line">      <span class="comment">//*******</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">fun</span></span>(a :<span class="type">Int</span>)(c:<span class="type">Int</span>) = &#123;</span><br><span class="line">           a+c</span><br><span class="line">       &#125;</span><br><span class="line">   println(fun(<span class="number">1</span>)(<span class="number">3</span>))</span><br></pre></td></tr></table></figure>
<h1 id="五、字符串"><a href="#五、字符串" class="headerlink" title="五、字符串"></a>五、字符串</h1><h2 id="1、string-stringBuilder-可变"><a href="#1、string-stringBuilder-可变" class="headerlink" title="1、string  | stringBuilder (可变)"></a>1、string  | stringBuilder (可变)</h2><h2 id="2、操作方法"><a href="#2、操作方法" class="headerlink" title="2、操作方法"></a>2、操作方法</h2><p>Ø  比较:equals</p>
<p>Ø  比较忽略大小写:equalsIgnoreCase</p>
<p>Ø  indexOf：如果字符串中有传入的assci码对应的值，返回下标</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * String &amp;&amp; StringBuilder</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">val</span> str = <span class="string">"abcd"</span></span><br><span class="line">    <span class="keyword">val</span> str1 = <span class="string">"ABCD"</span></span><br><span class="line">    </span><br><span class="line">    println(str.indexOf(<span class="number">97</span>))</span><br><span class="line">    println(str.indexOf(<span class="string">"b"</span>))</span><br><span class="line">    </span><br><span class="line">    println(str==str1)</span><br><span class="line">    println(str.equals(str1))</span><br><span class="line">    println(str.equalsIgnoreCase(str1))</span><br><span class="line">  </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * compareToIgnoreCase</span></span><br><span class="line"><span class="comment">     * </span></span><br><span class="line"><span class="comment">     * 如果参数字符串等于此字符串，则返回值 0；</span></span><br><span class="line"><span class="comment">     * 如果此字符串小于字符串参数，则返回一个小于 0 的值；</span></span><br><span class="line"><span class="comment">     * 如果此字符串大于字符串参数，则返回一个大于 0 的值。</span></span><br><span class="line"><span class="comment">     * </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    println(str.compareToIgnoreCase(str1))</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">val</span> strBuilder = <span class="keyword">new</span> <span class="type">StringBuilder</span>() <span class="comment">//括号可省</span></span><br><span class="line">    strBuilder.append(<span class="string">"abc"</span>)</span><br><span class="line"><span class="comment">//一个 + 只能跟单个字符且必须用单引号，否则无效 </span></span><br><span class="line"><span class="comment">//    strBuilder.+('d')</span></span><br><span class="line">    strBuilder+ 'd'</span><br><span class="line"><span class="comment">//    strBuilder.+=('h')</span></span><br><span class="line">    strBuilder+= 'h' </span><br><span class="line"></span><br><span class="line"><span class="comment">//两个+ 可跟多个字符且必须用双引号</span></span><br><span class="line"><span class="comment">//    strBuilder.++=("efg")</span></span><br><span class="line">    strBuilder++= <span class="string">"efg"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//StringBuilder可以追加浮点数</span></span><br><span class="line">    strBuilder.append(<span class="number">1.0</span>)</span><br><span class="line">    strBuilder.append(<span class="number">18</span>f)</span><br><span class="line">    println(strBuilder)</span><br><span class="line"> println(strBuilder.toString())</span><br></pre></td></tr></table></figure>
<h1 id="六、集合"><a href="#六、集合" class="headerlink" title="六、集合"></a>六、集合</h1><h2 id="1、数组"><a href="#1、数组" class="headerlink" title="1、数组"></a>1、数组</h2><h3 id="（1）创建一维数组"><a href="#（1）创建一维数组" class="headerlink" title="（1）创建一维数组"></a>（1）创建一维数组</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 创建数组两种方式：</span></span><br><span class="line"><span class="comment">    * 1.new Array[String](3)</span></span><br><span class="line"><span class="comment">    * 2.直接Array</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   </span><br><span class="line">   <span class="comment">//创建类型为Int 长度为3的数组</span></span><br><span class="line">   <span class="keyword">val</span> arr1 = <span class="keyword">new</span> <span class="type">Array</span>[<span class="type">Int</span>](<span class="number">3</span>)</span><br><span class="line">   <span class="comment">//创建String 类型的数组，直接赋值</span></span><br><span class="line">   <span class="keyword">val</span> arr2 = <span class="type">Array</span>[<span class="type">String</span>](<span class="string">"s100"</span>,<span class="string">"s200"</span>,<span class="string">"s300"</span>)</span><br><span class="line">   <span class="comment">//赋值</span></span><br><span class="line">   arr1(<span class="number">0</span>) = <span class="number">100</span></span><br><span class="line">   arr1(<span class="number">1</span>) = <span class="number">200</span></span><br><span class="line">   arr1(<span class="number">2</span>) = <span class="number">300</span></span><br></pre></td></tr></table></figure>
<h3 id="（2）数组遍历"><a href="#（2）数组遍历" class="headerlink" title="（2）数组遍历"></a>（2）数组遍历</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 遍历两种方式</span></span><br><span class="line"><span class="comment">  * for</span></span><br><span class="line"><span class="comment">  * foreach</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="keyword">for</span>(i &lt;- arr1)&#123;</span><br><span class="line"> 	  println(i)</span><br><span class="line"> &#125;</span><br><span class="line"> arr1.foreach(i =&gt; &#123;</span><br><span class="line">   println(i)</span><br><span class="line"> &#125;)</span><br><span class="line"> </span><br><span class="line"> <span class="keyword">for</span>(s &lt;- arr2)&#123;</span><br><span class="line">   println(s)</span><br><span class="line"> &#125;</span><br><span class="line"> arr2.foreach &#123; </span><br><span class="line">   x =&gt; println(x) </span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h3 id="（3）数组操作"><a href="#（3）数组操作" class="headerlink" title="（3）数组操作"></a>（3）数组操作</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Array</span>.concat：合并数组</span><br><span class="line"><span class="type">Array</span>.fill(<span class="number">5</span>)(“shsxt”)：创建初始值的定长数组</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">val</span> a = <span class="keyword">new</span> <span class="type">Array</span>[<span class="type">Int</span>](<span class="number">3</span>)</span><br><span class="line">        a(<span class="number">0</span>) = <span class="number">1</span></span><br><span class="line">        a(<span class="number">1</span>) = <span class="number">2</span></span><br><span class="line">        a(<span class="number">2</span>) = <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//判断数组中符合条件的元素的个数</span></span><br><span class="line"><span class="comment">//        val n = a.count(x=&gt;&#123;</span></span><br><span class="line"><span class="comment">//            if(x&gt;2)</span></span><br><span class="line"><span class="comment">//                true</span></span><br><span class="line"><span class="comment">//            else</span></span><br><span class="line"><span class="comment">//                false</span></span><br><span class="line"><span class="comment">//        &#125;)</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//        println(n)</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">val</span> b = <span class="type">Array</span>(<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>)</span><br><span class="line"><span class="comment">//将两个数组的元素合并在一个新的数组中</span></span><br><span class="line">        <span class="keyword">val</span> ints = <span class="type">Array</span>.concat(a,b)</span><br><span class="line"><span class="comment">//遍历数组</span></span><br><span class="line">        ints.foreach(println)</span><br><span class="line"><span class="comment">//创建包含5个指定元素的数组</span></span><br><span class="line">        <span class="keyword">val</span> strings = <span class="type">Array</span>.fill(<span class="number">5</span>)(<span class="string">"shsxt"</span>)</span><br><span class="line">        strings.foreach(println)</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//        for(i &lt;- a)&#123;</span></span><br><span class="line"><span class="comment">//            println(i)</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//        val b = Array(4,5,6)</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//        for(i &lt;- b)&#123;</span></span><br><span class="line"><span class="comment">//            println(i)</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//        a.foreach(x=&gt; &#123; println(x) &#125; )</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//        a.foreach(println(_))</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//         a.foreach(println)</span></span><br><span class="line"><span class="comment">//        val c = new Array[Array[Int]](3)</span></span><br><span class="line"><span class="comment">//        c(0) = Array(1,2,3)</span></span><br><span class="line"><span class="comment">//        c(1) = Array(4,5,6)</span></span><br><span class="line"><span class="comment">//        c(2) = Array(7,8,9)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//        c.foreach(x=&gt;&#123;</span></span><br><span class="line"><span class="comment">//            x.foreach(y=&gt;&#123;</span></span><br><span class="line"><span class="comment">//                print(y + "\t")</span></span><br><span class="line"><span class="comment">//            &#125;)</span></span><br><span class="line"><span class="comment">//            println()</span></span><br><span class="line"><span class="comment">//        &#125;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//        for(i&lt;-c)&#123;</span></span><br><span class="line"><span class="comment">//            for(j &lt;-i)&#123;</span></span><br><span class="line"><span class="comment">//                print(j + "\t")</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line"><span class="comment">//            println()</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="（4）创建二维数组"><a href="#（4）创建二维数组" class="headerlink" title="（4）创建二维数组"></a>（4）创建二维数组</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 创建二维数组和遍历</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">val</span> arr3 = <span class="keyword">new</span> <span class="type">Array</span>[<span class="type">Array</span>[<span class="type">String</span>]](<span class="number">3</span>)</span><br><span class="line">  arr3(<span class="number">0</span>)=<span class="type">Array</span>(<span class="string">"1"</span>,<span class="string">"2"</span>,<span class="string">"3"</span>)</span><br><span class="line">  arr3(<span class="number">1</span>)=<span class="type">Array</span>(<span class="string">"4"</span>,<span class="string">"5"</span>,<span class="string">"6"</span>)</span><br><span class="line">  arr3(<span class="number">2</span>)=<span class="type">Array</span>(<span class="string">"7"</span>,<span class="string">"8"</span>,<span class="string">"9"</span>)</span><br><span class="line">  <span class="keyword">for</span>(i &lt;- <span class="number">0</span> until arr3.length)&#123;</span><br><span class="line">    <span class="keyword">for</span>(j &lt;- <span class="number">0</span> until arr3(i).length)&#123;</span><br><span class="line">      print(arr3(i)(j)+<span class="string">"	"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    println()</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">var</span> count = <span class="number">0</span></span><br><span class="line">  <span class="keyword">for</span>(arr &lt;- arr3 ;i &lt;- arr)&#123;</span><br><span class="line">    <span class="keyword">if</span>(count%<span class="number">3</span> == <span class="number">0</span>)&#123;</span><br><span class="line">      println()</span><br><span class="line">    &#125;</span><br><span class="line">    print(i+<span class="string">"	"</span>)</span><br><span class="line">    count +=<span class="number">1</span> </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  arr3.foreach &#123; arr  =&gt; &#123;</span><br><span class="line">    arr.foreach &#123; println &#125;</span><br><span class="line">  &#125;&#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">val</span> arr4 = <span class="type">Array</span>[<span class="type">Array</span>[<span class="type">Int</span>]](<span class="type">Array</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>),<span class="type">Array</span>(<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>))</span><br><span class="line">  arr4.foreach &#123; arr =&gt; &#123;</span><br><span class="line">    arr.foreach(i =&gt; &#123;</span><br><span class="line">      println(i)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;&#125;</span><br><span class="line">  println(<span class="string">"-------"</span>)</span><br><span class="line">  <span class="keyword">for</span>(arr &lt;- arr4;i &lt;- arr)&#123;</span><br><span class="line">    println(i)</span><br></pre></td></tr></table></figure>
<h2 id="2、list"><a href="#2、list" class="headerlink" title="2、list"></a>2、list</h2><h2 id="（1）创建list"><a href="#（1）创建list" class="headerlink" title="（1）创建list"></a>（1）创建list</h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> list = <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br></pre></td></tr></table></figure>
<p><code>备注</code>  Nil      长度为0的list</p>
<h2 id="（2）list遍历"><a href="#（2）list遍历" class="headerlink" title="（2）list遍历"></a>（2）list遍历</h2><blockquote>
<p>foreach ，for</p>
</blockquote>
<h2 id="（3）list操作"><a href="#（3）list操作" class="headerlink" title="（3）list操作"></a>（3）list操作</h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">//创建</span></span><br><span class="line">    <span class="keyword">val</span> list = <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//遍历</span></span><br><span class="line">    list.foreach &#123; x =&gt; println(x)&#125;</span><br><span class="line"><span class="comment">//    list.foreach &#123; println&#125;</span></span><br><span class="line">    <span class="comment">//filter 过滤元素</span></span><br><span class="line">    <span class="keyword">val</span> list1  = list.filter &#123; x =&gt; x&gt;<span class="number">3</span> &#125;</span><br><span class="line">    list1.foreach &#123; println&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//count  计算符合条件的元素个数</span></span><br><span class="line">    <span class="keyword">val</span> value = list1.count &#123; x =&gt; x&gt;<span class="number">3</span> &#125;</span><br><span class="line">    println(value)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//map 对元素操作 如切分</span></span><br><span class="line">    <span class="keyword">val</span> nameList = <span class="type">List</span>(</span><br><span class="line">    		<span class="string">"hello shsxt"</span>,</span><br><span class="line">    		<span class="string">"hello xasxt"</span>,</span><br><span class="line">    		<span class="string">"hello shsxt"</span></span><br><span class="line">        )</span><br><span class="line">    <span class="keyword">val</span> mapResult:<span class="type">List</span>[<span class="type">Array</span>[<span class="type">String</span>]] = nameList.map&#123; </span><br><span class="line">        x =&gt; x.split(<span class="string">" "</span>) </span><br><span class="line">    &#125;</span><br><span class="line">    mapResult.foreach&#123;println&#125;    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//flatmap 将元素压扁平,先map再flat</span></span><br><span class="line">    <span class="keyword">val</span> flatMapResult : <span class="type">List</span>[<span class="type">String</span>] = nameList.flatMap&#123; x =&gt; x.split(<span class="string">" "</span>) &#125;</span><br><span class="line">    flatMapResult.foreach &#123; println &#125;</span><br></pre></td></tr></table></figure>
<p><img src="images/map.jpg" alt=""></p>
<h2 id="3、set"><a href="#3、set" class="headerlink" title="3、set"></a>3、set</h2><p><code>注意：</code>set集合自动去重</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> s = <span class="type">Set</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>)</span><br><span class="line"><span class="keyword">val</span> s1 = <span class="type">Set</span>(<span class="number">1</span>，<span class="number">2</span>，<span class="number">3</span>，<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//遍历时，自动去重</span></span><br><span class="line">s.foreach(println) </span><br><span class="line"><span class="keyword">for</span>(x&lt;- s)&#123;println(x)&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//交集</span></span><br><span class="line"><span class="keyword">val</span> inse = s.intersect(s1)</span><br><span class="line"><span class="keyword">val</span> ins = s.&amp;(s1)</span><br><span class="line">inse.foreach(println)</span><br><span class="line">inse.foreach&#123;println&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//差集</span></span><br><span class="line"><span class="keyword">val</span> di = s.diff(s1)</span><br><span class="line"><span class="keyword">val</span> de = s.&amp;~(s1)</span><br><span class="line"></span><br><span class="line"><span class="comment">//子集:s是不是s1的子集</span></span><br><span class="line"><span class="keyword">val</span> boo: <span class="type">Boolean</span> = s.subsetof(s1)</span><br><span class="line"></span><br><span class="line"><span class="comment">//max ,min</span></span><br><span class="line"><span class="keyword">val</span> max = s.max</span><br><span class="line"><span class="keyword">val</span> min = s.min</span><br><span class="line">println(max + <span class="string">":"</span> + min)</span><br><span class="line"></span><br><span class="line"><span class="comment">//转成数组，list</span></span><br><span class="line">s.toArray.foreach(println)</span><br><span class="line">s.toList.foreach(println)</span><br><span class="line"></span><br><span class="line"><span class="comment">//mkString , 元素以！分隔拼成字符串</span></span><br><span class="line">println(s.mkString)</span><br><span class="line">println(s.mkstring(<span class="string">"!"</span>))</span><br></pre></td></tr></table></figure>
<h2 id="4、map"><a href="#4、map" class="headerlink" title="4、map"></a>4、map</h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//map创建时，若key相同，则都会被后一个key覆盖</span></span><br><span class="line"><span class="keyword">val</span> map =<span class="type">Map</span>（<span class="string">"1"</span>-&gt;<span class="string">"a"</span>,(<span class="string">"3"</span>,<span class="string">"c"</span>),<span class="string">"2"</span>-&gt;<span class="string">"b"</span>）</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取map值</span></span><br><span class="line">println(map.get(<span class="string">"1"</span>))</span><br><span class="line">println(map.get(<span class="string">"1"</span>).get)</span><br><span class="line"><span class="comment">//获取指定key，若没有，就用另一个指定值代替</span></span><br><span class="line">println(map.getOrElse(<span class="string">"5"</span>,<span class="string">"100"</span>))</span><br><span class="line"><span class="keyword">val</span> res = map.get(<span class="string">"8"</span>).getOrElse(<span class="string">"800"</span>)</span><br><span class="line">println(res)</span><br><span class="line"></span><br><span class="line"><span class="comment">//遍历map</span></span><br><span class="line"><span class="comment">//x为map中的一组键值对</span></span><br><span class="line"><span class="keyword">for</span>(x-&gt; map)&#123;</span><br><span class="line">println(<span class="string">"key:"</span>+x._1+<span class="string">",value:"</span>+ x._2) </span><br><span class="line">&#125;</span><br><span class="line">map.foreach(x=&gt;&#123;</span><br><span class="line"> println(<span class="string">"key:"</span>+x._1+<span class="string">",value:"</span>+ x._2)    </span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//遍历key</span></span><br><span class="line"><span class="keyword">val</span> keyIteratable = map.keys</span><br><span class="line">keyIteratable.foreach(k=&gt;&#123;</span><br><span class="line">println(<span class="string">"key"</span>+k+<span class="string">",value"</span>+map.get(k).get)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//遍历value</span></span><br><span class="line"><span class="keyword">val</span> valueIteratable = map.values</span><br><span class="line">valueIteratable.foreach&#123;v=&gt;&#123;</span><br><span class="line">    println(<span class="string">"value"</span>+v)</span><br><span class="line">&#125;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//合并map</span></span><br><span class="line"><span class="keyword">val</span> map1 = <span class="type">Map</span>（(<span class="number">1</span>，<span class="string">"a"</span>),(<span class="number">2</span>,<span class="string">"b"</span>),(<span class="number">3</span>,<span class="string">"c"</span>)）</span><br><span class="line"><span class="keyword">val</span> map2 = <span class="type">Map</span>（(<span class="number">1</span>,<span class="string">"aa"</span>),(<span class="number">2</span>,<span class="string">"bb"</span>),(<span class="number">3</span>,<span class="string">"cc"</span>)）</span><br><span class="line">map1.++(map2).foreach(println)</span><br><span class="line">map1.++:(map2).oreach(println)</span><br><span class="line"></span><br><span class="line"><span class="comment">//map操作方法</span></span><br><span class="line"><span class="comment">//filter:过滤，留下符合条件的元素</span></span><br><span class="line"><span class="keyword">val</span> result = map.filter(x=&gt;&#123;</span><br><span class="line"><span class="keyword">if</span>(x._1.equals(<span class="string">"1"</span>))</span><br><span class="line">    <span class="literal">true</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="literal">false</span></span><br><span class="line">&#125;)</span><br><span class="line">result.foreach(println)</span><br><span class="line">map.filter(_._2.equals(<span class="string">"a"</span>)).foreach(println)</span><br><span class="line"><span class="comment">//count：统计符合条件的元素个数</span></span><br><span class="line"><span class="keyword">val</span> countResult = map.count（x=&gt;&#123;</span><br><span class="line">      x._1.equals(<span class="string">"1"</span>)</span><br><span class="line">）</span><br><span class="line">println(countResult)    </span><br><span class="line"><span class="comment">//contains：判断map中是否包含某个key</span></span><br><span class="line">map.contains(<span class="string">"3"</span>)</span><br><span class="line"><span class="comment">//exist：判断符合条件的元素是存在</span></span><br><span class="line"><span class="comment">//若遇到条件返回结果为true，就停止迭代</span></span><br><span class="line">map.exists(x=&gt;&#123;</span><br><span class="line"><span class="keyword">if</span>（x._1.equals(<span class="string">"3"</span>))&#123;</span><br><span class="line">println(<span class="string">"存在喽"</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">println(<span class="string">"不存在喽"</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="5、元组Tuple"><a href="#5、元组Tuple" class="headerlink" title="5、元组Tuple"></a>5、元组Tuple</h2><p>同：与列表类似</p>
<p>不同：元组可以包含不同类型的元素；元组的值是通过将单个值包含在圆括号中构成</p>
<p><code>注意：</code>Tuple最多支持22个参数</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//元素个数取决于Tuple后面的数字</span></span><br><span class="line"><span class="keyword">val</span> t1 = <span class="keyword">new</span> <span class="type">Tuple1</span>(<span class="number">1</span>)</span><br><span class="line"><span class="keyword">val</span> t2 = <span class="keyword">new</span> <span class="type">Tuple2</span>(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line"><span class="keyword">val</span> t3 = <span class="type">Tuple3</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)  </span><br><span class="line"><span class="keyword">val</span> t5 = (<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>，<span class="number">4</span>,<span class="number">5</span>)</span><br><span class="line"><span class="keyword">val</span> t22 = <span class="keyword">new</span> <span class="type">Tuple22</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span>,<span class="number">16</span>,<span class="number">17</span>,<span class="number">18</span>,<span class="number">19</span>,<span class="number">20</span>,<span class="number">21</span>,<span class="number">22</span>)</span><br><span class="line"><span class="comment">//获取元组中的值 ：用  ._XX  </span></span><br><span class="line">println（t5._4）</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> t = <span class="type">Tuple2</span>((<span class="number">1</span>,<span class="number">2</span>),(<span class="string">"zhangsan"</span>,<span class="string">"lisi"</span>))</span><br><span class="line">println(t._1._2)</span><br><span class="line"></span><br><span class="line"><span class="comment">//元组遍历：元素迭代器</span></span><br><span class="line"><span class="keyword">val</span> interator = t5.productorInterator</span><br><span class="line">interator.foreach(println)</span><br><span class="line"><span class="keyword">while</span>(interator.hasNext)&#123;</span><br><span class="line">    println(intrator.next())</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//元素翻转 swap， 只针对二元数组</span></span><br><span class="line">println(t2.swap)</span><br><span class="line"></span><br><span class="line"><span class="comment">//转换成字符串</span></span><br><span class="line">println(t5.toString())</span><br></pre></td></tr></table></figure>
<h1 id="七、trait"><a href="#七、trait" class="headerlink" title="七、trait"></a>七、trait</h1><p>Scala：只有extends  ，可以继承多个Trait</p>
<p>Scala Trait(特征) 相当于 Java 的接口和抽象类的结合</p>
<p>可以定义属性和方法</p>
<p><code>注意：</code></p>
<ul>
<li>若继承的多个trait中包含同名的属性和方法，就必须在在类中使用<code>override</code> 重新定义</li>
<li>若重新定义的属性是使用<code>var</code>定义的则会报错，所以必须是使用<code>val</code>定义的属性才可使用override</li>
<li>trait中不能传参数</li>
</ul>
<p><code>举例</code>：trait中带属性带方法实现</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Read</span></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name = <span class="string">"read"</span></span><br><span class="line">    <span class="keyword">val</span> age = <span class="number">18</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">read</span></span>():<span class="type">Unit</span>=&#123;</span><br><span class="line">        println(<span class="string">"read---"</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Write</span></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name = <span class="string">"write"</span> </span><br><span class="line">    <span class="keyword">val</span> age = <span class="number">19</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">write</span></span>():<span class="type">Unit</span>=&#123;</span><br><span class="line">        println(<span class="string">"write----"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Human</span> <span class="keyword">extends</span> <span class="title">Read</span> <span class="keyword">with</span> <span class="title">Write</span></span>&#123;</span><br><span class="line">  <span class="comment">//前提name必须是用val定义的</span></span><br><span class="line">  <span class="comment">//  override var name  = "person"</span></span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">val</span> age = <span class="number">20</span></span><br><span class="line">    name  = <span class="string">"person"</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Trait</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args:<span class="type">Array</span>[<span class="type">String</span>]):<span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> human = <span class="keyword">new</span> <span class="type">Human</span>() </span><br><span class="line">        println(human.name)</span><br><span class="line">        human.read()</span><br><span class="line">        human.write()</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>举例</code>：trait中带方法不实现</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Equal</span></span>&#123;</span><br><span class="line">    <span class="comment">//抽象方法</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isEqual</span></span>(p:<span class="type">Point</span>):<span class="type">Boolean</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isNoEqual</span></span>(p:<span class="type">Point</span>):<span class="type">Boolean</span>=&#123;</span><br><span class="line">        !isEqual(p)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span>(<span class="params">x:<span class="type">Int</span>,y:<span class="type">Int</span></span>) <span class="keyword">extends</span> <span class="title">Equal</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> xx = x</span><br><span class="line">    <span class="keyword">var</span> yy = y</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">isEqual</span> </span>(p:<span class="type">Point</span>) = &#123;</span><br><span class="line">       p.xx == xx &amp; p.yy ==yy </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isEqule</span></span>(p:<span class="type">Any</span>) = &#123;</span><br><span class="line">    p.isInstanceOf[<span class="type">Point</span>] &amp;&amp; p.asInstanceOf[<span class="type">Point</span>].xx==xx</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Trait2</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args:<span class="type">Array</span>[<span class="type">String</span>]):<span class="type">Unit</span> = &#123;</span><br><span class="line">       <span class="keyword">val</span> p1 = <span class="keyword">new</span> <span class="type">Point</span>(<span class="number">3</span>,<span class="number">5</span>)</span><br><span class="line">       <span class="keyword">val</span> p2 = <span class="keyword">new</span> <span class="type">Point</span>(<span class="number">4</span>,<span class="number">5</span>)</span><br><span class="line">       ptintln(p1.isNoEqual(p2))</span><br><span class="line">       ptintln(p1.isEqual(p2))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="八、模式匹配match"><a href="#八、模式匹配match" class="headerlink" title="八、模式匹配match"></a>八、模式匹配match</h1><p>1、概念理解</p>
<ul>
<li>一个模式匹配包含多个备选项，且每个都以关键字case开始</li>
<li>每个备选项都包含一个模式和多个表达式，且用箭头符号 =&gt; 隔开了模式和表达式。</li>
<li>Ø 模式匹配不仅可以匹配值还可以匹配类型</li>
<li>Ø  从上到下顺序匹配，如果匹配到则不再往下匹配</li>
<li>Ø  都匹配不上时，会匹配到case_ ,相当于default</li>
<li>Ø  match 的最外面的”{ }”可以去掉看成一个语句</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Match</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args:<span class="type">Array</span>[<span class="type">String</span>]):<span class="type">Unit</span> = &#123;</span><br><span class="line">       <span class="keyword">val</span> p1 =(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>f,<span class="string">"4"</span>,<span class="string">"abc"</span>,<span class="number">55</span>d)</span><br><span class="line">        p1.foreach(x=&gt;&#123;</span><br><span class="line">            println(mymatch(x))</span><br><span class="line">        &#125;)                </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">mymatch</span></span>(x:<span class="type">Any</span>)=&#123;     </span><br><span class="line">        x <span class="keyword">match</span> &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">"4"</span> =&gt;println(<span class="string">"macth 4--"</span>)</span><br><span class="line">            <span class="keyword">case</span> x:<span class="type">String</span> =&gt; println(<span class="string">"match String"</span>)</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span> =&gt; println(<span class="string">"1--"</span>)</span><br><span class="line">            <span class="keyword">case</span> <span class="number">2</span> =&gt; println(<span class="string">"2--"</span>)</span><br><span class="line">            <span class="keyword">case</span> <span class="number">3</span>f =&gt; println(<span class="string">"3f--"</span>)</span><br><span class="line">    <span class="comment">//      case x :Double =&gt; println("type is Double")</span></span><br><span class="line">            <span class="keyword">case</span> _ =&gt; println(<span class="string">"no match--"</span>)</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="九、样例类"><a href="#九、样例类" class="headerlink" title="九、样例类"></a>九、样例类</h1><p>1、概念理解</p>
<ul>
<li><p>使用了case关键字的类定义就是样例类(case classes)</p>
</li>
<li><p>样例类是种特殊的类。实现了类构造参数的getter方法（构造参数默认被声明为val），当构造参数是声明为var类型的，它将帮你实现setter和getter方法。</p>
<p>Ø  样例类默认帮你实现了toString,equals，copy和hashCode等方法。</p>
<p>Ø  样例类可以new, 也可以不用new</p>
</li>
</ul>
<p>2、举例：结合模式匹配的代码</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Match2</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args:<span class="type">Array</span>[<span class="type">String</span>]):<span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> zs = <span class="keyword">new</span> <span class="type">Woman</span>(<span class="number">18</span>,<span class="string">"zs"</span>)</span><br><span class="line">    println(zs.age + <span class="string">" : "</span>+ zs . name) </span><br><span class="line">        </span><br><span class="line">    <span class="keyword">val</span> mm = <span class="type">Woman</span>(<span class="number">19</span>,<span class="string">"meimei"</span>)</span><br><span class="line">    <span class="keyword">val</span> nn = <span class="type">Woman</span>(<span class="number">19</span>,<span class="string">"meimei"</span>)</span><br><span class="line">    println(mm.equals(zs))</span><br><span class="line">    println(mm.equals(nn))</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">val</span> wo = <span class="type">List</span>(ls,mm)</span><br><span class="line">    wo.foreach(x=&gt;&#123;</span><br><span class="line">            x <span class="keyword">match</span> &#123;</span><br><span class="line">                <span class="keyword">case</span> x:<span class="type">Woman</span> =&gt; println(<span class="string">"match Woman--"</span>)</span><br><span class="line">                <span class="keyword">case</span> <span class="type">Woman</span>(<span class="number">18</span>,<span class="string">"ls"</span>) =&gt; println(<span class="string">"ls"</span>)</span><br><span class="line">                <span class="keyword">case</span> <span class="type">Woman</span>(<span class="number">19</span>,<span class="string">"mm"</span>) =&gt; println(<span class="string">"mm"</span>)</span><br><span class="line">                <span class="keyword">case</span> <span class="type">Woman</span>(<span class="number">19</span>,<span class="string">"zs"</span>) =&gt; println(<span class="string">"zs"</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">case</span> <span class="class"><span class="keyword">class</span> <span class="title">Woman</span> (<span class="params">age:<span class="type">Int</span> ,name:<span class="type">String</span></span>)</span></span><br></pre></td></tr></table></figure>
<h1 id="十、Actor-Model"><a href="#十、Actor-Model" class="headerlink" title="十、Actor Model"></a>十、<strong>Actor Model</strong></h1><p>\1.    概念理解</p>
<p>Actor Model是用来编写并行计算或分布式系统的高层次抽象（类似java中的Thread）让程序员不必为多线程模式下共享锁而烦恼,被用在Erlang 语言上, 高可用性99.9999999 % 一年只有31ms 宕机Actors将状态和行为封装在一个轻量的进程/线程中，但是不和其他Actors分享状态，每个Actors有自己的世界观，当需要和其他Actors交互时，通过发送事件和消息，发送是异步的，非堵塞的(fire-andforget)，发送消息后不必等另外Actors回复，也不必暂停，每个Actors有自己的消息队列，进来的消息按先来后到排列，这就有很好的并发策略和可伸缩性，可以建立性能很好的事件驱动系统。</p>
<p>Actor的特征：</p>
<p>Ø  ActorModel是消息传递模型,基本特征就是消息传递</p>
<p>Ø  消息发送是异步的，非阻塞的</p>
<p>Ø  消息一旦发送成功，不能修改</p>
<p>Ø  Actor之间传递时，自己决定决定去检查消息，而不是一直等待，是异步非阻塞的</p>
<p>什么是Akka</p>
<p>Akka 是一个用 Scala 编写的库，用于简化编写容错的、高可伸缩性的 Java 和Scala 的 Actor 模型应用，底层实现就是Actor,Akka是一个开发库和运行环境，可以用于构建高并发、分布式、可容错、事件驱动的基于JVM的应用。使构建高并发的分布式应用更加容易。</p>
<p>spark1.6版本之前，spark分布式节点之间的消息传递使用的就是Akka，底层也就是actor实现的。1.6之后使用的netty传输。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyActor</span> <span class="keyword">extends</span> <span class="title">Actor</span></span>&#123;</span><br><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">act</span></span>():<span class="type">Unit</span>=&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>)&#123; receive &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">"hello"</span>=&gt;println(<span class="string">"hello"</span>)  </span><br><span class="line">        <span class="keyword">case</span> x:<span class="type">String</span> =&gt; println(<span class="string">"save String ="</span>+ x)</span><br><span class="line">        <span class="keyword">case</span> x:<span class="type">Int</span> =&gt; println(<span class="string">"save Int"</span>)</span><br><span class="line">        <span class="keyword">case</span> _ =&gt; println(<span class="string">"save default"</span>)</span><br><span class="line"></span><br><span class="line">    &#125;                 </span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Actor</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args:<span class="type">Array</span>[<span class="type">String</span>]):<span class="type">Unit</span> = &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">val</span> actor = <span class="keyword">new</span> <span class="type">MyActor</span>()</span><br><span class="line">        <span class="comment">//启动</span></span><br><span class="line">        actor.start()</span><br><span class="line">        <span class="comment">//发送消息</span></span><br><span class="line">        actor ! <span class="string">"hello"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="class"><span class="keyword">class</span> <span class="title">Msg</span>(<span class="params">actor</span>)(<span class="params"></span>)</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">WoActor</span>(<span class="params"></span>) <span class="keyword">extends</span> <span class="title">Actor</span></span>&#123;</span><br><span class="line">    oevrride <span class="function"><span class="keyword">def</span> <span class="title">act</span></span>():<span class="type">Unit</span> =&#123;</span><br><span class="line">          <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">            receive &#123;</span><br><span class="line">                <span class="keyword">case</span> msg:<span class="type">Msg</span> =&gt;&#123;</span><br><span class="line">                    msg.mes <span class="comment">//收到的消息</span></span><br><span class="line">                    msg.actor <span class="comment">//回复的消息</span></span><br><span class="line">                    println(<span class="string">"too"</span>)</span><br><span class="line">                    msg.actor ! <span class="string">"hahaha"</span></span><br><span class="line">                    </span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HuActor</span>(<span class="params">wo:<span class="type">WoActor</span></span>) <span class="keyword">extends</span> <span class="title">Actor</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    oevrride <span class="function"><span class="keyword">def</span> <span class="title">act</span></span>():<span class="type">Unit</span> =&#123;</span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">            receive &#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">"hello"</span> =&gt;&#123;</span><br><span class="line">                    println(<span class="string">"too"</span>)</span><br><span class="line">                    <span class="keyword">val</span> msg = <span class="type">Msg</span>(<span class="keyword">this</span>,<span class="string">"rrr"</span>)</span><br><span class="line">                    wo ! msg</span><br><span class="line">                &#125;               </span><br><span class="line">                <span class="keyword">case</span> <span class="string">"rrr"</span> =&gt;&#123;</span><br><span class="line">                    println(<span class="string">"uuu"</span>)</span><br><span class="line">                   <span class="keyword">val</span> msg = <span class="type">Msg</span>(<span class="keyword">this</span>,<span class="string">"heheh"</span>)</span><br><span class="line">                    wo ! msg</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Actor2</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args:<span class="type">Array</span>[<span class="type">String</span>]):<span class="type">Unit</span> = &#123;</span><br><span class="line">     <span class="keyword">val</span> woman = <span class="keyword">new</span> <span class="type">WoActor</span>()</span><br><span class="line">    <span class="keyword">val</span> human = <span class="keyword">new</span> <span class="type">HuActor</span>(woman)</span><br><span class="line">        </span><br><span class="line">        human.start()</span><br><span class="line">        woman.start()</span><br><span class="line">        human ! <span class="string">"hello"</span>        </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="class"><span class="keyword">class</span> <span class="title">Message</span>(<span class="params">actor:<span class="type">Actor</span>,msg:<span class="type">Any</span></span>)</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">Actor1</span> <span class="keyword">extends</span> <span class="title">Actor</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">act</span></span>()&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">      receive&#123;</span><br><span class="line">        <span class="keyword">case</span>  msg :<span class="type">Message</span> =&gt; &#123;</span><br><span class="line">          println(<span class="string">"i sava msg! = "</span>+ msg.msg)</span><br><span class="line">          </span><br><span class="line">          msg.actor!<span class="string">"i love you too !"</span></span><br><span class="line">          &#125;</span><br><span class="line">        <span class="keyword">case</span> msg :<span class="type">String</span> =&gt; println(msg)</span><br><span class="line">        <span class="keyword">case</span>  _ =&gt; println(<span class="string">"default msg!"</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Actor2</span>(<span class="params">actor :<span class="type">Actor</span></span>) <span class="keyword">extends</span> <span class="title">Actor</span></span>&#123;</span><br><span class="line">  actor ! <span class="type">Message</span>(<span class="keyword">this</span>,<span class="string">"i love you !"</span>)</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">act</span></span>()&#123;</span><br><span class="line">		<span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">			receive&#123;</span><br><span class="line">  			<span class="keyword">case</span> msg :<span class="type">String</span> =&gt; &#123;</span><br><span class="line">  			  <span class="keyword">if</span>(msg.equals(<span class="string">"i love you too !"</span>))&#123;</span><br><span class="line">  			    println(msg)</span><br><span class="line">  			   actor! <span class="string">"could we have a date !"</span></span><br><span class="line">  			  &#125;</span><br><span class="line">  			&#125;</span><br><span class="line">  			<span class="keyword">case</span>  _ =&gt; println(<span class="string">"default msg!"</span>)</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Lesson_Actor2</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> actor1 = <span class="keyword">new</span> <span class="type">Actor1</span>()</span><br><span class="line">    actor1.start()</span><br><span class="line">    <span class="keyword">val</span> actor2 = <span class="keyword">new</span> <span class="type">Actor2</span>(actor1)</span><br><span class="line">    actor2.start()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="十一、WordCount"><a href="#十一、WordCount" class="headerlink" title="十一、WordCount"></a>十一、WordCount</h1><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在lib文件中添加spark的jar包 ，并addLib</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.<span class="type">SparkConf</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.<span class="type">SparkContext</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span>.rddToPairRDDFunctions</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">WordCount</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">      </span><br><span class="line">    <span class="keyword">val</span> conf = <span class="keyword">new</span> <span class="type">SparkConf</span>()</span><br><span class="line">      </span><br><span class="line">    conf.setMaster(<span class="string">"local"</span>).setAppName(<span class="string">"WC"</span>)</span><br><span class="line">      </span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(conf)  <span class="comment">//用于了解集群</span></span><br><span class="line">      </span><br><span class="line">    <span class="comment">//RDD:集合 ，抽象的</span></span><br><span class="line">    <span class="keyword">val</span> lines :<span class="type">RDD</span>[<span class="type">String</span>] = sc.textFile(<span class="string">"./words.txt"</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//方式一：</span></span><br><span class="line">    <span class="keyword">val</span> word :<span class="type">RDD</span>[<span class="type">String</span>]  = lines.flatMap&#123;lines =&gt; &#123;</span><br><span class="line">      lines.split(<span class="string">" "</span>)  <span class="comment">//匿名函数</span></span><br><span class="line">    &#125;&#125;</span><br><span class="line">      </span><br><span class="line">    <span class="keyword">val</span> pairs:<span class="type">RDD</span>[(<span class="type">String</span>,<span class="type">Int</span>)] = word.map&#123; x =&gt; (x,<span class="number">1</span>) &#125;</span><br><span class="line">      <span class="comment">//map :一进一出    flatmap：一进多出    x：每个单词</span></span><br><span class="line">      </span><br><span class="line">    <span class="keyword">val</span> result:<span class="type">RDD</span>[(<span class="type">String</span>,<span class="type">Int</span>)] = pairs.reduceByKey&#123;(a,b)=&gt; &#123;</span><br><span class="line">        println(<span class="string">"a:"</span>+a+<span class="string">",b:"</span>+b)</span><br><span class="line">        a+b    <span class="comment">//相当于  a = a + b用于下一个统计</span></span><br><span class="line">    &#125;&#125;</span><br><span class="line">      <span class="comment">//优化：排序  false（降序）  第一个_ 代表每个元素</span></span><br><span class="line">    result.sortBy(_._2,<span class="literal">false</span>).foreach(println)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//方式二：简化写法</span></span><br><span class="line">    lines.flatMap &#123; _.split(<span class="string">" "</span>)&#125;.map &#123; (_,<span class="number">1</span>)&#125;.reduceByKey(_+_).foreach(println)</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Scala/">Scala</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JVM/">JVM</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/编程语言/">编程语言</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/静态/">静态</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











<!--gitment 评论-->

<!--gitment 评论 end-->
  
    <article id="post-Redis学习" class="article article-type-post" itemscope="" itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/02/14/Redis学习/" class="article-date">
      <time datetime="2019-02-13T16:00:00.000Z" itemprop="datePublished">2019-02-14</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/02/14/Redis学习/">Redis学习</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="一、Redis的简介"><a href="#一、Redis的简介" class="headerlink" title="一、Redis的简介"></a>一、Redis的简介</h1><h2 id="1、前情提要"><a href="#1、前情提要" class="headerlink" title="1、前情提要"></a>1、前情提要</h2><p><strong>磁盘数据库</strong>： </p>
<p> MySQL（关系型数据库）<br> Hbase</p>
<p><img src="images/redis1.jpg" alt=""></p>
<p><strong>内存数据库</strong>：<br>  Redis<br>  memcached<br>  （成本高、性能好、读写速度快、数据安全性低、直接把值放到内存里面，内存数据库就直接把值取到）</p>
<p><img src="images/redis2.jpg" alt=""></p>
<h2 id="2、用作数据库、缓存和消息中间件"><a href="#2、用作数据库、缓存和消息中间件" class="headerlink" title="2、用作数据库、缓存和消息中间件"></a>2、用作数据库、缓存和消息中间件</h2><blockquote>
<p>二八法则：80%是经常被查询，使用内存数据库做缓存中间件，读取性能高</p>
</blockquote>
<h1 id="二、Redis的特点"><a href="#二、Redis的特点" class="headerlink" title="二、Redis的特点"></a>二、Redis的特点</h1><h2 id="1、数据结构丰富"><a href="#1、数据结构丰富" class="headerlink" title="1、数据结构丰富"></a>1、数据结构丰富</h2><p>Redis虽然是键值对数据库，但他支持多种类型的数据结构（主要是不同类型的value）</p>
<blockquote>
<p>字符串、散列（hashes），列表（lists），集合（sets），有序集合（sorted sets）</p>
</blockquote>
<p><img src="images/redis0.jpg" alt=""></p>
<h2 id="2、数据的持久化"><a href="#2、数据的持久化" class="headerlink" title="2、数据的持久化"></a>2、数据的持久化</h2><p>Redis 支持数据的持久化，可以将内存中的数据保持在磁盘中，重启的时候可以再次加载到内存进行使用</p>
<h2 id="3、数据的备份"><a href="#3、数据的备份" class="headerlink" title="3、数据的备份"></a>3、数据的备份</h2><p>Redis 支持数据的备份，即 master-slave 模式的数据备份。</p>
<h1 id="三、Redis的安装"><a href="#三、Redis的安装" class="headerlink" title="三、Redis的安装"></a>三、Redis的安装</h1><h2 id="1、下载安装包"><a href="#1、下载安装包" class="headerlink" title="1、下载安装包"></a>1、下载安装包</h2><p>redis-3.2.9.tar.gz </p>
<p>网址：<a href="http://www.redis.cn/download.html" target="_blank" rel="noopener">http://www.redis.cn/download.html</a></p>
<h2 id="2、依赖软件安装"><a href="#2、依赖软件安装" class="headerlink" title="2、依赖软件安装"></a>2、依赖软件安装</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install gcc tcl -y</span><br></pre></td></tr></table></figure>
<h2 id="3、解压-redis"><a href="#3、解压-redis" class="headerlink" title="3、解压 redis"></a>3、解压 redis</h2><p>并进入解压目录</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zvxf redis-3.2.9.tar.gz</span><br></pre></td></tr></table></figure>
<h2 id="4、-执行-编译命令"><a href="#4、-执行-编译命令" class="headerlink" title="4、 执行 编译命令"></a>4、 执行 编译命令</h2><p>（<code>注意：</code>当前路径下需包含 makefile文件  ： 用于手动编译）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure>
<h2 id="5、修改-redis-的配置文件"><a href="#5、修改-redis-的配置文件" class="headerlink" title="5、修改 redis 的配置文件"></a>5、修改 redis 的配置文件</h2><p> redis.config ( 先 备份一个原厂配置文件)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim redis.config</span><br></pre></td></tr></table></figure>
<ul>
<li>修改运行模式为后台运行（如果为no，启动redis-server后，控制台就会卡在启动状态）daemonize守护进程</li>
</ul>
<blockquote>
<p>daemonize yes</p>
</blockquote>
<ul>
<li>指定redis数据持久化的路径(在执行redis-cli命令的当前路径，会生成dump.rdb文件)</li>
</ul>
<blockquote>
<p>dir   ./</p>
</blockquote>
<ul>
<li>使用默认的 redis.conf 文件，redis 默认只能通过 127.0.0.1:6379 这个地址访问，这样就只能在本机上操作了</li>
<li>想要远程操作，需要修改redis.conf 这个配置文件，在配置文件中添加相应的 ip 地址， 在bind 127.0.0.1 后面追加</li>
</ul>
<blockquote>
<p>bind 127.0.0.1 192.168.198.128</p>
</blockquote>
<h2 id="6、启动server服务"><a href="#6、启动server服务" class="headerlink" title="6、启动server服务"></a>6、启动server服务</h2><p>（如在redis的解压目录下）</p>
<blockquote>
<p>命令： redis-server 配置文件的地址</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-server redis-conf</span><br></pre></td></tr></table></figure>
<p>终止服务：（查询redis进程号，然后，kill该进程）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ps -ef | grep redis</span><br><span class="line">kill 进程号</span><br></pre></td></tr></table></figure>
<h2 id="7、启动客户端服务"><a href="#7、启动客户端服务" class="headerlink" title="7、启动客户端服务"></a>7、启动客户端服务</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-cli</span><br></pre></td></tr></table></figure>
<p>显示：</p>
<blockquote>
<p>127.0.0.1:6379&gt; </p>
</blockquote>
<h1 id="四、Redis的使用"><a href="#四、Redis的使用" class="headerlink" title="四、Redis的使用"></a>四、Redis的使用</h1><h2 id="0、前情提要"><a href="#0、前情提要" class="headerlink" title="0、前情提要"></a>0、前情提要</h2><p>Redis的key 值是二进制安全的，这意味着可以用任何二进制序列作为 key值。</p>
<h2 id="1、切换数据库（实例）"><a href="#1、切换数据库（实例）" class="headerlink" title="1、切换数据库（实例）"></a>1、切换数据库（实例）</h2><blockquote>
<p>select databaseid 默认共有 16 个实例库，</p>
<p>登录时是 ID 为0 的数据库，总共有 16 个</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 0</span><br></pre></td></tr></table></figure>
<h2 id="2、Key操作："><a href="#2、Key操作：" class="headerlink" title="2、Key操作："></a>2、Key操作：</h2><p>（前提：是针对已经存在key）</p>
<blockquote>
<p>KEYS pattern<br>查找所有符合给定模式 pattern 的 key 。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span> keys * </span><br><span class="line"><span class="meta">&gt;</span></span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>列出所有Key</p>
</blockquote>
<blockquote>
<p>EXISTS  key<br>检查给定 key 是否存在。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; EXISTS  name</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>若显示0，则不存在；若显示1，则存在</p>
</blockquote>
<blockquote>
<p>EXPIRE key seconds<br>为给定 key 设置生存时间，当 key 过期时(生存时间为 0 )，它会被自动删除。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; EXPIRE age 1</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>若设置成功，显示1；显示0 ，则为失败，可能是该key不存在</p>
</blockquote>
<blockquote>
<p>TTL key<br>以秒为单位，返回给定 key 的剩余生存时间</p>
</blockquote>
<blockquote>
<p>MOVE key db</p>
<p>将当前数据库的 key 移动到给定的数据库 db 当中。<br>如果当前数据库(源数据库)和给定数据库(目标数据库)有相同名字的给定 key ，或者 key 不存在于当前数据库，那么 MOVE 没有任何效果</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;  move name 1</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>name 是数据库0中已存在的key，移动到数据库1中后，0中就不存在该key</p>
</blockquote>
<blockquote>
<p>TYPE key</p>
<p>返回 key 所储存的值的类型。</p>
</blockquote>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; DEL key [key ...]</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>删除给定的一个或多个 key 。不存在的 key 会被忽略</p>
</blockquote>
<h2 id="3、String-操作"><a href="#3、String-操作" class="headerlink" title="3、String  操作"></a>3、String  操作</h2><p>字符串是一种最基本的 Redis 值类型。Redis 字符串是二进制安全的，这<br>意味着一个 Redis 字符串能包含任意类型的数据</p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; SET key value [EX seconds][PX milliseconds] [NX|XX]</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p> EX 设置过期时间，秒，等同于 SETEX key seconds value<br> PX 设置过期时间，毫秒，等同于 PSETEX key milliseconds value<br> NX 键不存在，才能设置，等同于 SETNX key value<br> XX 键存在时，才能设置</p>
</blockquote>
<p><code>注意</code></p>
<p>将字符串值 value 关联到 key 。<br>如果 key 已经持有其他值， SET 就覆写旧值，无视类型。<br>对于某个原本带有生存时间（TTL）的键来说， 当 SET 命令成功在这个键上执行时， 这个键原有的 TTL 将被清除。</p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; GET key</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>返回 key 所关联的字符串值。如果 key 不存在那么返回特殊值 nil 。<br>假如 key 储存的值不是字符串类型，返回一个错误，因为 GET 只能<br>用于处理字符串值</p>
</blockquote>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; APPEND key value</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>如果 key 已经存在并且是一个字符串， APPEND 命令将 value 追加到 key 原来的值的末尾。<br>如果 key 不存在， APPEND 就简单地将给定 key 设为 value ，就像执行 SET key value 一样。</p>
</blockquote>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; STRLEN key</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>返回 key 所储存的字符串值的长度。<br>当 key 储存的不是字符串值时，返回一个错误。</p>
</blockquote>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; INCR key</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>将 key 中储存的数字值增一，并显示。<br>如果 key 不存在，那么 key 的值会先被初始化为 0 ，然后再执行INCR 操作。<br>如果值包含错误的类型，或字符串类型的值不能表示为数字，那么返回一个错误。</p>
<p><code>错误：</code></p>
<p>(error) ERR value is not an integer or out of range</p>
</blockquote>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; INCRBY key increment</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>将 key 所储存的值加上增量 increment ，并显示。<br>如果 key 不存在，那么 key 的值会先被初始化为 0 ，然后再执行INCRBY 命令。<br>如果值包含错误的类型，或字符串类型的值不能表示为数字，那么返回一个错误。</p>
</blockquote>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; DECR key</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>将 key 中储存的数字值减一。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; DECRBY key decrement</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>将 key 所储存的值减去减量 decrement 。</p>
</blockquote>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;  GETRANGE key start end</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>返回 key 中字符串值的子字符串，字符串的截取范围由 start 和end 两个偏移量决定(包括 start 和 end 在内)。<br>负数偏移量表示从字符串最后开始计数， -1 表示最后一个字符， -2 表示倒数第二个，以此类推</p>
</blockquote>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; SETRANGE key offset value</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>用 value 参数覆写(overwrite)给定 key 所储存的字符串值，从偏移量 offset 开始。<br>不存在的 key 当作空白字符串处理。</p>
</blockquote>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; SETEX key  seconds value</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>将值 value 关联到 key ，并将 key 的生存时间设为 seconds<br>如果 key 已经存在， SETEX 命令将覆写旧值。<br>这个命令类似于以下两个命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; SET key value</span><br><span class="line">&gt; EXPIRE key seconds # 设置生存时间</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
</blockquote>
<blockquote>
<p>不同之处是， SETEX 是一个原子性(atomic)操作，关联值和设置生存时间两个动作会在同一时间内完成，该命令在 Redis 用作缓存时，非常实用。</p>
</blockquote>
<blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span> SETNX key value</span><br><span class="line"><span class="meta">&gt;</span></span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>将 key 的值设为 value ，当且仅当 key 不存在。<br>若给定的 key 已经存在，则 SETNX 不做任何动作。<br>SETNX 是『SET if Not eXists』(如果不存在，则 SET)的简写。</p>
</blockquote>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; MGET key [key ...]</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>返回所有(一个或多个)给定 key 的值。<br>如果给定的 key 里面，有某个 key 不存在，那么这个 key 返回特殊值 nil 。因此，该命令永不失败</p>
</blockquote>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; MSET key value [key value ...]</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>同时设置一个或多个 key-value 对。<br>如果某个给定 key 已经存在，那么 MSET 会用新值覆盖原来的旧值，如果这不是你所希望的效果，请考虑使用 MSETNX 命令：它只会在所有给定 key 都不存在的情况下进行设置操作。</p>
</blockquote>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; MSETNX key value [key value ...]</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>同时设置一个或多个 key-value 对，当且仅当所有给定 key 都不存在。<br>即使只有一个给定 key 已存在， MSETNX 也会拒绝执行所有给定 key 的设置操作。<br>MSETNX 是原子性的，因此它可以用作设置多个不同 key 表示不同字段(field)的唯一性逻辑对象(unique logic object)，所有字段要么全被设置，要么全不被设置。</p>
</blockquote>
<h2 id="4、-List-操作"><a href="#4、-List-操作" class="headerlink" title="4、 List 操作"></a>4、 List 操作</h2><blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; LPUSH key value [value ...]</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>将一个或多个值 value 插入到列表 key 的表头。（从左边插入）<br>如果有多个 value 值，那么各个 value 值按从左到右的顺序依次 插 入 到 表 头 ：</p>
<p> 比 如 说 ，</p>
<p> 对 空 列 表 mylist  执 行 命令 LPUSH mylist a b c ，列表的值将是 c b a ，</p>
<p>这等同于原 子 性 地 执行 LPUSH mylist a 、 LPUSH mylist b 和 LPUSH mylistc 三个命令。</p>
</blockquote>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; RPUSH key value [value ...]</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>将一个或多个值 value 插入到列表 key 的表尾。（从右边插入）<br>如果有多个 value 值，那么各个 value 值按从左到右的顺序依次 插 入 到 表 尾 ： </p>
<p>比 如 对 一 个 空 列 表 mylist  执行 RPUSH mylist a b c ，得出的结果列表为 a b c ，</p>
<p>等同于 执 行 命令 RPUSH mylist a 、 RPUSH mylist b 、 RPUSH mylist c 。</p>
</blockquote>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; LRANGE key  start stop</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>返 回 列 表 key  中 指 定 区 间 内 的 元 素 ， 区 间 以 偏 移量 start 和 stop 指定。（从左至右）<br>下标(index)参数 start 和 stop 都以 0 为底，也就是说，以 0 表示列表的第一个元素，以 1 表示列表的第二个元素，以此类推。-1 表示最后一个元素</p>
</blockquote>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; LPOP key</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>移除并返回列表 key 的头元素。（从列表key的左边开始弹出元素）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; RPOP key</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>移除并返回列表 key 的尾元素。（从列表key的右边开始弹出元素）</p>
</blockquote>
<p><code>备注：</code></p>
<blockquote>
<p>同向为栈，异向为队列<br>栈（lpush  lpop  ； rpush  rpop）</p>
<p>队列（lpush  rpop ； rpush   lpop  ）</p>
<p>ArrayList : 数组（查找快，增删慢）<br>LinkList  : 链表（查找慢，增删快）</p>
</blockquote>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; LINDEX key index</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>返回列表 key 中，下标为 index 的元素。<br>下标(index)参数 start 和 stop 都以 0 为底，也就是说，以 0 表示列表的第一个元素，以 1 表示列表的第二个元素，以此类推。<br>你也可以使用负数下标，以 -1 表示列表的最后一个元素， -2 表示列表的倒数第二个元素，以此类推</p>
</blockquote>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; LLEN key</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>返回列表 key 的长度。<br>如果 key 不存在，则 key 被解释为一个空列表，返回 0 .</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; LREM key count value</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>根据参数 count 的值，移除列表中与参数 value 相等的元素。<br>count 的值可以是以下几种：<br>count &gt; 0 : 从表头开始向表尾搜索，移除与 value 相等的元<br>素，数量为 count 。<br>count &lt; 0 : 从表尾开始向表头搜索，移除与 value 相等的元<br>素，数量为 count 的绝对值。<br>count = 0 : 移除表中所有与 value 相等的值。</p>
</blockquote>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; LTRIM key start stop</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>对一个列表进行修剪(trim)，就是说，让列表只保留指定区间内的元素，</p>
<p>不在指定区间之内的元素都将被删除。<br>举 个 例 子 ， 执 行 命 令 LTRIM list 0 2 ， 表 示 只 保 留 列表 list 的前三个元素，其余元素全部删除</p>
</blockquote>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; RPOPLPUSH source  destination</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>命令 RPOPLPUSH 在一个原子时间内，执行以下两个动作：<br>将列表 source 中的最后一个元素(尾元素)弹出，并返回给客户端。将 source  弹 出 的 元 素 插 入 到 列 表 destination  ， 作为 destination 列表的的头元素。<br>举 个 例 子 ， </p>
<p>你 有 两 个 列表 source  和 destination  ， source  列 表 有 元素 a, b, c ， destination 列表有元素 x, y, z ，执行 RPOPLPUSH sourcedestination 之后， source 列表包含元素 a, b ， destination 列表包含元素 c, x, y, z ，并且元素 c 会被返回给客户端。</p>
</blockquote>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; LSET key index value</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>将列表 key 下标为 index 的元素的值设置为 value 。<br>当 index 参数超出范围，或对一个空列表( key 不存在)进行 LSET 时，返回一个错误。</p>
</blockquote>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; LINSERT key BEFORE|AFTER pivot value</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>将值 value 插入到列表 key 当中，位于值 pivot 之前或之后。<br>当 pivot 不存在于列表 key 时，不执行任何操作。<br>当 key 不存在时， key 被视为空列表，不执行任何操作。</p>
</blockquote>
<h2 id="5、Set操作"><a href="#5、Set操作" class="headerlink" title="5、Set操作"></a>5、Set操作</h2><blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; SADD key member [member ...]</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>将一个或多个 member 元素加入到集合 key 当中（无序），已经存在于集合的 member 元素将被忽略。<br>假如 key 不存在，则创建一个只包含 member 元素作成员的集合。</p>
</blockquote>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; SMEMBERS key</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>返回集合 key 中的所有成员。</p>
<p>不存在的 key 被视为空集合。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; SISMEMBER key member</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>判断 member 元素是否是集合 key 的成员。</p>
</blockquote>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; SCARD key</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>返回集合 key 的基数(集合中元素的数量)。</p>
</blockquote>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; SREM key member [member ...]</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>移 除 集 合 key 中 的 一 个 或 多 个 member 元 素 ， 不 存 在的 member 元素会被忽略。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; SPOP key （抽奖场景）</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>移除并返回集合中的一个随机元素。<br>如果只想获取一个随机元素，但不想该元素从集合中被移除的话，可以使用 SRANDMEMBER 命令。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; SMOVE source destination member</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>将 member 元素从 source 集合移动到 destination 集合。<br>SMOVE 是原子性操作。<br>如果 source 集合不存在或不包含指定的 member 元素，<br>则 SMOVE 命令不执行任何操作，仅返回 0 。否则， member 元素从 source 集合中被移除，并添加到 destination 集合中去。<br>当 destination 集合已经包含 member 元素时， SMOVE 命令只是简单地将 source 集合中的 member 元素删除。<br>当 source 或 destination 不是集合类型时，返回一个错误。</p>
</blockquote>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; SDIFF key [key ...]</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>求差集：从第一个 key 的集合中去除其他集合和自己的交集部分</p>
<p>sdiff求两个set的差集，有先后顺序，以靠前的为基准，列出前一个set有的，而后一个set没有的元素</p>
</blockquote>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; SINTER key [key  ...] （微博求共同关注场景）</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>返回一个集合的全部成员，该集合是所有给定集合的交集。<br>不存在的 key 被视为空集。<br>当给定集合当中有一个空集时，结果也为空集(根据集合运算定律)。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; SUNION key [key ...]</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>返回一个集合的全部成员，该集合是所有给定集合的并集。<br>不存在的 key 被视为空集。</p>
</blockquote>
<h2 id="6、Sorted-set操作"><a href="#6、Sorted-set操作" class="headerlink" title="6、Sorted set操作"></a>6、Sorted set操作</h2><p>类似 Sets,但是每个字符串元素都关联到一个叫 score 浮动数值。里面的元素总是通过 score 进行着排序，所以不同的是，它是可以检索的一系列元素。</p>
<p><code>注意：</code></p>
<blockquote>
<p>在 set 基础上，加上 score 值，</p>
<p>之前 set 是key value1 value2….<br>现在 Zset 是 key score1 value1 score2 value2</p>
</blockquote>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; ZADD key score member [[score member][score member] ...]</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>将 一 个 或 多 个 member 元 素 及 其 score 值 加 入 到 有 序集 key 当中。</p>
<p><code>显示</code></p>
<p>redis&gt; ZADD page_rank 9 baidu.com 8 bing.com 10 google.com<br>(integer) 2<br>redis&gt; ZRANGE page_rank 0 -1 WITHSCORES</p>
<p>1) “bing.com”<br>2) “8”<br>3) “baidu.com”<br>4) “9”<br>5) “google.com”<br>6) “10”</p>
</blockquote>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; ZRANGE key start stop [WITHSCORES]</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>返回有序集 key 中，指定区间内的成员。<br>其中成员的位置按 score 值递增(从小到大)来排序。<br>具有相同 score 值的成员按字典序(lexicographical order )来排列。<br>如果你需要成员按 score 值递减(从大到小)来排列，请使用 ZREVRANGE 命令。<br>下标参数 start 和 stop 都以 0 为底，</p>
<p>也就是说，以 0 表示有序集第一个成员，以 1 表示有序集第二个成员，以此类推。<br>你也可以使用负数下标，以 -1 表示最后一个成员， -2 表示倒数第二个成员，以此类推。<br>超出范围的下标并不会引起错误。<br>比 如 说 ， 当 start 的 值 比 有 序 集 的 最 大 下 标 还 要 大 ， 或是 start &gt; stop 时， ZRANGE 命令只是简单地返回一个空列表。<br>另一方面，假如 stop 参数的值比有序集的最大下标还要大，那么Redis 将 stop 当作最大下标来处理。<br>可以通过使用 WITHSCORES 选项，来让成员和它的 score 值一并返回，</p>
<p>返回列表以 value1,score1, …, valueN,scoreN 的格式表示。</p>
</blockquote>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; ZREVRANGE key start stop [WITHSCORES]( ( 音乐排行榜场景) )</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>返回有序集 key 中，指定区间内的成员。<br>其中成员的位置按 score 值递减(从大到小)来排列。</p>
</blockquote>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; ZREM key member [member ...]</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>移除有序集 key 中的一个或多个成员，不存在的成员将被忽略。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; ZREMRANGEBYSCORE key min max</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>移除有序集 key 中，所有 score 值介于 min 和 max 之间(包括等于 min 或 max )的成员。</p>
</blockquote>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; ZSCORE key member</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>返回有序集 key 中，成员 member 的 score 值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; ZCARD key</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>返回有序集 key 的基数（包含的元素的个数）。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; ZCOUNT key min max</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>返回有序集 key 中， score 值在 min 和 max 之间(默认包括 score 值等于 min 或 max )的成员的数量。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; ZRANK key member</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>返回有序集 key 中，成员 member 的 score 值。<br>ZCARD key<br>返回有序集 key 的基数（包含的元素的个数）。<br>ZCOUNT key min max<br>返回有序集 key 中， score 值在 min 和 max 之间(默认包括 score 值等于 min 或 max )的成员的数量。<br>ZRANK key member</p>
<p>返回有序集 key 中成员 member 的排名。其中有序集成员按 score 值递增(从小到大)顺序排列。</p>
</blockquote>
<h2 id="7、-Hash-操作-（散列）"><a href="#7、-Hash-操作-（散列）" class="headerlink" title="7、 Hash  操作  （散列）"></a>7、 Hash  操作  （散列）</h2><p>KV 模式不变，但是 V 是一个键值对</p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; HSET key field value</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>将哈希表 key 中的域 field 的值设为 value 。</p>
</blockquote>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; HGET key field</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>返回哈希表 key 中给定域 field 的值。</p>
</blockquote>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; HMSET key field value [field value ...]</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>同时将多个 field-value (域-值)对设置到哈希表 key 中。<br>此命令会覆盖哈希表中已存在的域。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; HMGET key field [field ...]</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>返回哈希表 key 中，一个或多个给定域的值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; HGETALL key</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>返回哈希表 key 中，所有的域和值。</p>
</blockquote>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; HKEYS key</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>返回哈希表 key 中的所有域。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; HVALS key</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>返回哈希表 key 中所有域的值。</p>
</blockquote>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; HSETNX key field value</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>将哈希表 key 中的域 field 的值设置为 value ，当且仅当域 field 不存在。<br>若域 field 已经存在，该操作无效。</p>
</blockquote>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; HEXISTS key field</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>查看哈希表 key 中，给定域 field 是否存在。</p>
</blockquote>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; HDEL key field [field ...]</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>删除哈希表 key 中的一个或多个指定域，不存在的域将被忽略。</p>
</blockquote>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; HINCRBY key field increment</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>为哈希表 key 中的域 field 的值加上增量 increment 。<br>增量也可以为负数，相当于对给定域进行减法操作。</p>
</blockquote>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; HINCRBYFLOAT key field increment</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>增加浮点数<br>场景：用户维度统计<br>统计数包括：关注数、粉丝数、喜欢商品数、发帖数<br>用户为 Key，不同维度为 Field，Value 为统计数</p>
</blockquote>
<h1 id="五、Redis-的持久化"><a href="#五、Redis-的持久化" class="headerlink" title="五、Redis 的持久化"></a>五、Redis 的持久化</h1><h2 id="1、Redis-持久化方式"><a href="#1、Redis-持久化方式" class="headerlink" title="1、Redis  持久化方式"></a>1、Redis  持久化方式</h2><ul>
<li><p>RDB 持久化可以在指定的时间间隔内生成数据集的时间点快照（point-in-time snapshot）。</p>
</li>
<li><p>AOF 持久化记录服务器执行的所有写操作命令，并在服务器启动时，通过重新执行这些命令来还原数据集。 </p>
<p>AOF 文件中的命令全部以 Redis协议的格式来保存，新命令会被追加到文件的末尾。 </p>
<p>Redis 还可以在后台对 AOF 文件进行重写（rewrite），使得 AOF 文件的体积不会超出保<br>存数据集状态所需的实际大小。</p>
</li>
<li><p>Redis 还可以同时使用 AOF 持久化和 RDB 持久化。 </p>
<p>在这种情况下， 当 Redis 重启时， 它会优先使用 AOF 文件来还原数据集， </p>
<p>因为 AOF 文件保存的数据集通常比 RDB 文件所保存的数据集更完整。</p>
</li>
<li><p>你甚至可以关闭持久化功能，让数据只在服务器运行时存在。</p>
</li>
</ul>
<h2 id="2、Rdb"><a href="#2、Rdb" class="headerlink" title="2、Rdb:"></a>2、Rdb:</h2><p>（1）在指定的时间间隔内将内存中的数据集快照写入磁盘，也就是行话讲的 snapshot 快照，它恢复时就是将快照文件直接读到内存里。</p>
<p>Rdb 保存的是 dump.rdb 文件</p>
<p>（2）如何触发 RDB 快照</p>
<p>Save：save 时只管保存，其他不管，全部阻塞。<br>Bgsave：redis 会在后台进行快照操作，快照操作的同时还可以响应客户端的请求，可以通过 lastsave 命令获取最后一次成功执行快照的时间。</p>
<p>（3）如何停止</p>
<p>静态停止：将配置文件里的 RDB 保存规则改为 save “”<br>动态停止 ：</p>
<blockquote>
<p> config set save “ ”</p>
</blockquote>
<h2 id="3、AOF"><a href="#3、AOF" class="headerlink" title="3、AOF"></a>3、AOF</h2><p>(Append Only File)</p>
<p>（1）以日志的形式来记录每个写操作，将 redis 执行过的所有写指令记录下来(读操作不记录)。只许追加文件但不可以改写文件，redis 启动之初会读取该文件重新构建数据，换言之，redis 重启的话就根据日志文件的内容将写指令从前到后执行一次一完成数据恢复工作。<br>======APPEND ONLY MODE======<br>开启 aof ：appendonly yes (默认是 no)</p>
<p>（2）Aof  策略</p>
<p>Appendfsync 参数：</p>
<p>Always ：同步持久化 每次发生数据变更会被立即记录到磁盘，性能较差<br>但数据完整性较好。<br>Everysec： 出厂默认推荐，异步操作，每秒记录，如果一秒宕机，有数<br>据丢失<br>No：从不 fsync ：将数据交给操作系统来处理。更快，也更不安全的选<br>择。</p>
<p>（3）Rewrite</p>
<p><code>概念</code>：AOF 采用文件追加方式，文件会越来越来大为避免出现此种情况，<br>新增了重写机制，aof 文件的大小超过所设定的阈值时，redis 就会自动将 aof文件的内容压缩，只保留可以恢复数据的最小指令集，可以使用命令<br>bgrewirteaof。</p>
<p><code>触发机制</code>：redis 会记录上次重写的 aof 的大小，默认的配置当 aof 文件大小为上次 rewrite 后大小的一倍且文件大于 64M 触发。</p>
<p><code>重写原理：</code>aof 文件持续增长而大时，会 fork 出一条新进程来将文件重写<br>(也就是先写临时文件最后再 rename)，遍历新进程的内存中的数据，每条记录有一条 set 语句，重写 aof 文件的操作，并没有读取旧的的 aof 文件，而是将整个内存的数据库内容用命令的方式重写了一个新的 aof 文件，这点和快照有点类似。</p>
<blockquote>
<p>no-appendfsync-on-rewrite no : </p>
<p>重写时是否可以运用 Appendfsync 用默认 no 即可，保证数据安全</p>
<p>auto-aof-rewrite-percentage 倍数  设置基准值<br>auto-aof-rewrite-min-size   设置基准值大小</p>
</blockquote>
<p>（4）flushall<br>刷新内存中的数据，即清空数据<br>可通过删除aof文件中该操作的记录来恢复数据<br>rdb文件无法实现数据恢复</p>
<p>（5）aof 特点</p>
<p>aof优点：<br>可用于数据恢复<br>缺点：<br>体积大，速度慢</p>
<p>aof文件体积会越来越大</p>
<p>（6）aof文件优化<br>重写：当文件大小达到一定阈值，启动压缩文件</p>
<blockquote>
<p>netstat -anpt<br>查看所有端口的使用情况</p>
</blockquote>
<h2 id="4、备份-Redis-数据"><a href="#4、备份-Redis-数据" class="headerlink" title="4、备份 Redis  数据"></a>4、备份 Redis  数据</h2><p><code>建议：</code><br>创建一个定期任务（cron job）， 每小时将一个 RDB 文件备份到一个文件<br>夹， 并且每天将一个 RDB 文件备份到另一个文件夹。<br>确保快照的备份都带有相应的日期和时间信息， 每次执行定期任务脚本<br>时， 使用 find 命令来删除过期的快照： 比如说， 你可以保留最近 48 小时<br>内的每小时快照， 还可以保留最近一两个月的每日快照。<br>至少每天一次， 将 RDB 备份到你的数据中心之外， 或者至少是备份到你<br>运行 Redis 服务器的物理机器之外。</p>
<h1 id="六、Redis-主从复制"><a href="#六、Redis-主从复制" class="headerlink" title="六、Redis  主从复制"></a>六、Redis  主从复制</h1><h2 id="0、前情提要-1"><a href="#0、前情提要-1" class="headerlink" title="0、前情提要"></a>0、前情提要</h2><p>Redis 支持简单且易用的主从复制（master-slave replication）功能， 该功能可以让从服务器(slave server)成为主服务器(masterserver)的精确复制品 。</p>
<h2 id="1、关于-Redis-复制功能的几个重要方面："><a href="#1、关于-Redis-复制功能的几个重要方面：" class="headerlink" title="1、关于 Redis 复制功能的几个重要方面："></a>1、关于 Redis 复制功能的几个重要方面：</h2><ul>
<li>Redis 使用异步复制。</li>
<li>一个主服务器可以有多个从服务器。</li>
<li>不仅主服务器可以有从服务器， 从服务器也可以有自己的从服务器，<br>多个从服务器之间可以构成一个图状结构。</li>
<li>复制功能不会阻塞主服务器： 即使有一个或多个从服务器正在进行初次<br>同步， 主服务器也可以继续处理命令请求。不过， 在从服务器删除旧版本数据集并载入新版本数据集的那段时间内， 连接请求会被阻塞。</li>
<li>复制功能可以单纯地用于数据冗余（data redundancy）， 也可以通过让多个从服务器处理只读命令请求来提升扩展性（scalability）： 比如说， 繁重的 SORT 命令可以交给附属节点去运行。</li>
</ul>
<h2 id="2、从服务器配置"><a href="#2、从服务器配置" class="headerlink" title="2、从服务器配置"></a>2、从服务器配置</h2><p>方式一：编辑配置文件</p>
<p>（永久生效）</p>
<blockquote>
<p>添加主服务器的IP</p>
<p>slaveof 192.168.198.128 6379</p>
</blockquote>
<p>方式二：调用 SLAVEOF 命令，输入主服务器的 IP 和端口，然后同步就会开始</p>
<p><code>前提：</code>主从服务器的redis-server均启动了</p>
<p>（仅适用于当前线程的服务，同步时，会将自己原来的key值数据清空，并且在主服务器页面会显示关于从服务器的日志信息）</p>
<blockquote>
<p>127.0.0.1:6379&gt; SLAVEOF 192.168.198.128 6379</p>
</blockquote>
<p>若想取消该服务器的主从关系，使用如下命令，且还会保存当前数据</p>
<blockquote>
<p>127.0.0.1:6379&gt; SLAVEOF no one</p>
</blockquote>
<p>连接远程节点的redis服务（端口默认为6379）</p>
<blockquote>
<p>redis-cli -h 192.168.198.128 </p>
</blockquote>
<h2 id="3、只读服务器"><a href="#3、只读服务器" class="headerlink" title="3、只读服务器"></a>3、只读服务器</h2><p>从 Redis 2.6 开始， 从服务器支持<code>只读模式</code>， 并且该模式为从服务器的默认模式。<br>  只读模式配置</p>
<blockquote>
<p>方式一：由 redis.conf 文件中的 slave-read-only 选项控制</p>
<p>slave-read-only yes</p>
<p>方式二：通过 CONFIG SET 命令来开启或关闭这个模式</p>
</blockquote>
<p>  只读从服务器会拒绝执行任何写命令， 所以不会出现因为操作失误而将数据不小心写入到了从服务器的情况。</p>
<p>  另外，对一个从属服务器执行命令 SLAVEOF NO ONE 将使得这个从属服务器关闭复制功能，并从从属服务器转变回主服务器，原来同步所得的数据集不会被丢弃。</p>
<p>  利用『 SLAVEOF NO ONE 不会丢弃同步所得数据集』这个特性，可以在主服务器失败的时候，将从属服务器用作新的主服务器，从而实现无间断运行。</p>
<h2 id="4、从服务器相关配置："><a href="#4、从服务器相关配置：" class="headerlink" title="4、从服务器相关配置："></a>4、从服务器相关配置：</h2><p>设置密码：</p>
<p>​     主服务器：</p>
<blockquote>
<p>通过 requirepass 选项设置密码</p>
</blockquote>
<p>​     从服务器：</p>
<p>方式一：</p>
<blockquote>
<p>服务器正在运行，使用客户端输入以下命令：<br>config set masterauth <password></password></p>
</blockquote>
<p>方式二：</p>
<blockquote>
<p>将它加入到配置文件中：<br>masterauth <password></password></p>
</blockquote>
<h2 id="5、主服务器配置"><a href="#5、主服务器配置" class="headerlink" title="5、主服务器配置"></a>5、主服务器配置</h2><p>只在有至少 N  个从服务器的情况下，才执行写操作</p>
<p>从 Redis 2.8 开始， 为了保证数据的安全性，可以通过配置， 让主服务器只在有至少 N 个当前已连接从服务器的情况下， 才执行写命令。</p>
<blockquote>
<p>min-slaves-to-write <number of="" slaves=""><br>min-slaves-max-lag <number of="" seconds=""></number></number></p>
</blockquote>
<p>至少有 min-slaves-to-write 个从服务器， 并且这些服务器的延迟值都少于 min-slaves-max-lag 秒， 那么主服务器就会执行客户端请求的写操作。</p>
<h1 id="七、Redis-sentinel-哨兵"><a href="#七、Redis-sentinel-哨兵" class="headerlink" title="七、Redis-sentinel( 哨兵)"></a>七、Redis-sentinel( 哨兵)</h1><h2 id="0、前情提要-2"><a href="#0、前情提要-2" class="headerlink" title="0、前情提要"></a>0、前情提要</h2><p>Redis 的 Sentinel 系统用于管理多个 Redis 服务器，该系统执行以下三个任务：</p>
<ul>
<li><p>监控（Monitoring）： Sentinel 会不断地检查你的主服务器和从服务器是否运作正常。</p>
</li>
<li><p>提醒（Notification）： 当被监控的某个 Redis 服务器出现问题时，Sentinel 可以通过 API 向管理员或者其他应用程序发送通知。</p>
</li>
<li><p>自动故障迁移（Automatic failover）： 当一个主服务器不能正常工作时， Sentinel 会开始一次自动故障迁移操作， 它会将失效主服务器的其中一个从服务器升级为新的主服务器， 并让失效主服务器的其他从服务器改为复制新的主服务器； 当客户端试图连接失效的主服务器时，集群也会向客户端返回新主服务器的地址， 使得集群可以使用新主服务器代替失效服务器。</p>
</li>
<li>Redis Sentinel 是一个分布式系统，你可以在一个架构中运行多个 Sentinel 进程， 这些进程使用流言协议（gossipprotocols)来接收关于主服务器是否下线的信息， 并使用投票协议（agreement protocols）来决定是否执行自动故障迁移，以及选择哪个从服务器作为新的主服务器。</li>
</ul>
<h2 id="1、启动-Sentinel"><a href="#1、启动-Sentinel" class="headerlink" title="1、启动 Sentinel"></a>1、启动 Sentinel</h2><p>方式一：</p>
<p>对于 redis-sentinel 程序， 可以用以下命令来启动Sentinel 系统：</p>
<blockquote>
<p>redis-sentinel  /path/to/sentinel.conf</p>
</blockquote>
<p>方式二：</p>
<p>对于 redis-server 程序， 你可以用以下命令来启动一个运行在 Sentinel 模式下的 Redis 服务器：</p>
<blockquote>
<p>redis- - server /path/to/sentinel.conf  – sentinel</p>
</blockquote>
<p><code>注意：</code></p>
<blockquote>
<p>启动 Sentinel 实例必须指定相应的配置文件， 系统会使用配置文件来保存 Sentinel 的当前状态， 并在 Sentinel 重启时通过载入配置文件来进行状态还原。如果启动 Sentinel 时没有指定相应的配置文件， 或者指定的配置文件不可写（not writable）， 那么 Sentinel 会拒绝启动。</p>
</blockquote>
<h2 id="2-、配置-Sentinel"><a href="#2-、配置-Sentinel" class="headerlink" title="2  、配置 Sentinel"></a>2  、配置 Sentinel</h2><p>Redis 源码中包含了一个名为 sentinel.conf 的文件，这个文件是一个带有详细注释的 Sentinel 配置文件示例。<br>运行一个 Sentinel 所需的最少配置如下所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sentinel monitor mymaster  192.168.198.128 6379 2 </span><br><span class="line">sentinel down-after-milliseconds mymaster 30000</span><br><span class="line">sentinel failover-timeout mymaster 180000</span><br><span class="line">sentinel parallel-syncs mymaster 1</span><br><span class="line">protected-mode no / bind  本机  IP</span><br></pre></td></tr></table></figure>
<p><code>注意：</code>主服务器无密码时，记得在 sentinel 配置里配上bind 本机 ip ，或者关掉保护模式 protected-mode no</p>
<p><code>配置解释：</code></p>
<blockquote>
<p>第一行配置指示 Sentinel 去监视一个名为 mymaster 的主服务器， 这个主服务器的 IP 地址为 127.0.0.1 ， 端口号为 6379 ， 而将这个主服务器判断为失效至少需要 2 个Sentinel 同意 （只要同意 Sentinel 的数量不达标，自动故障迁移就不会执行）。</p>
</blockquote>
<blockquote>
<p>down-after-milliseconds 选项</p>
<p>指定了 Sentinel 认为服务器已经断线所需的毫秒数。</p>
<p>如果服务器在给定的毫秒数之内， 没有返回 Sentinel发送的 PING 命令的回复， 或者返回一个错误， 那么 Sentinel 将这个服务器标记为主观下线</p>
</blockquote>
<blockquote>
<p>parallel-syncs 选项指定了在执行故障转移时， 最多可以有多少个从服务器同时对新的主服务器进行同步， 这个数字越小， 完成故障转移所需的时间就越长。</p>
<p>你可以通过将这个值设为 1 来保证每次只有一个从服务器处于不能处理命令请求的状态。</p>
</blockquote>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/内存数据库/">内存数据库</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux系统环境/">Linux系统环境</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Redis/">Redis</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











<!--gitment 评论-->

<!--gitment 评论 end-->
  
    <article id="post-Storm学习" class="article article-type-post" itemscope="" itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/01/29/Storm学习/" class="article-date">
      <time datetime="2019-01-28T16:00:00.000Z" itemprop="datePublished">2019-01-29</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/01/29/Storm学习/">Storm学习</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="一、Storm简介"><a href="#一、Storm简介" class="headerlink" title="一、Storm简介"></a>一、Storm简介</h1><p>官网：<a href="http://storm.apache.org/" target="_blank" rel="noopener">Storm</a></p>
<p>1、Storm ：流式计算处理框架</p>
<p>2、 特点：</p>
<ul>
<li>实时</li>
<li>分布式</li>
<li>高容错</li>
<li>storm常驻内存（7*24h:意味着永久运行，需人为关闭）</li>
<li>数据不经过磁盘，在内存中处理</li>
<li>高可靠性：异常处理、消息可靠性保障机制</li>
<li>可维护性：StormUI图形化监控接口</li>
</ul>
<p>3、应用</p>
<p>（1）流式处理：（异步）</p>
<p>​     客户端提交数据进行计算，并不会等待计算结果</p>
<p>举例：</p>
<ul>
<li>逐条处理：ETL（用于数据清洗）</li>
<li>统计分析</li>
</ul>
<p><img src="images/storm1.jpg" alt=""></p>
<p>（2）实时请求应答服务：（同步）</p>
<p>   客户端提交数据后，立刻取得计算结果并返回给客户端</p>
<p>举例：</p>
<p><img src="images/storm0.jpg" alt=""></p>
<h1 id="二、Storm架构"><a href="#二、Storm架构" class="headerlink" title="二、Storm架构"></a>二、Storm架构</h1><p>（从进程角度）</p>
<p><img src="images/storm5.jpg" alt=""></p>
<h2 id="1、nimbus-主"><a href="#1、nimbus-主" class="headerlink" title="1、nimbus : (主)"></a>1、nimbus : (主)</h2><p>接收客户端提交的请求；</p>
<p>资源调度、任务分配、接收jar包</p>
<h2 id="2、supervisor：-从"><a href="#2、supervisor：-从" class="headerlink" title="2、supervisor：(从)"></a>2、supervisor：(从)</h2><p> 接收nimbus分配的任务、启停worker</p>
<h2 id="3、worker"><a href="#3、worker" class="headerlink" title="3、worker"></a>3、worker</h2><p>– 运行具体处理运算组件的进程（每个Worker对应执行一个Topology的子集）<br>– worker任务类型，即spout任务、bolt任务两种<br>– 启动executor<br>（executor即worker JVM进程中的一个java线程，一般默认每个executor负责执行一个task任务）</p>
<h2 id="4、zookeeper"><a href="#4、zookeeper" class="headerlink" title="4、zookeeper"></a>4、zookeeper</h2><p>存储心跳信息、任务信息</p>
<blockquote>
<p>数据传输</p>
<p>ZMQ  ：ZeroMQ开源的消息传递框架。并不是消息队列</p>
<p>Netty ：基于NIO的网络框架，高效（Storm 0.9之后使用）</p>
</blockquote>
<h1 id="三、Storm编程模型"><a href="#三、Storm编程模型" class="headerlink" title="三、Storm编程模型"></a>三、Storm编程模型</h1><p><img src="https://upload-images.jianshu.io/upload_images/2826805-0fdf7e8af9608fce.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p><img src="images/storm3.jpg" alt=""></p>
<ul>
<li><strong>Topology</strong>（DAG有向无环图的实现）</li>
</ul>
<blockquote>
<p>是对Storm实时计算逻辑的封装，由一系列通过数据流相互关联的Spout、Bolt组成的拓扑结构</p>
</blockquote>
<blockquote>
<p>生命周期：</p>
<p>此拓扑结构只要启动，就会在集群中一直运行，直到手动将其kill，否则不会终止。</p>
<p>（与MapReduce中Job的区别，MR中Job在计算完成后就会终止）</p>
</blockquote>
<ul>
<li><strong>spout</strong>（数据源：发送数据）</li>
</ul>
<blockquote>
<p>一般会从指定的数据源读取元祖（Tuple）发送到拓扑（Topology）中</p>
<ul>
<li><p>一个Spout可以发送多个Stream</p>
<p>（通过OutputFieldDeclare的declare方法声明不同的数据流，发送数据时通过SpoutOutputCollector中的emit方法指定 StreamId将数据发送出去）</p>
</li>
<li><p>Spout中的核心方法是nextTuple，该方法会被Storm线程不断调用、主动从数据源拉取数据、再通过emit方法将数据生成元祖（Tuple）发送给之后的Bolt计算</p>
</li>
</ul>
</blockquote>
<ul>
<li><strong>bolt</strong>（数据处理组件：计算数据，个数不限）</li>
</ul>
<blockquote>
<p>单个Bolt可实现简单的任务或数据流转换</p>
<p>复杂的场景需要多个Bolt分多个步骤完成</p>
<ul>
<li><p>一个Bolt可以发送多个Stream</p>
<p>（通过OutputFieldDeclare的declare方法声明不同的数据流，发送数据时通过SpoutOutputCollector中的emit方法指定 StreamId将数据发送出去）</p>
</li>
<li><p>Bolt中的核心方法是execute，该方法通过接收一个元组数据、实现核心业务逻辑</p>
</li>
</ul>
</blockquote>
<ul>
<li><strong>tuple</strong>（Stream中最小的数据组成单位）</li>
<li><strong>Stream</strong>（数据流）</li>
</ul>
<blockquote>
<ul>
<li>从Spout中传递数据给Bolt、上一个Bolt传递数据给下一个Blot，这样形成的数据通道叫做Stream</li>
</ul>
<ul>
<li>Stream声明时需要给其指定Id（默认为Default，实际开发中多使用单一数据流，无需指定StreamId）</li>
</ul>
</blockquote>
<ul>
<li><strong>Stream Grouping</strong> – 数据流分组（即数据分发策略）</li>
</ul>
<h1 id="四、Storm安装部署"><a href="#四、Storm安装部署" class="headerlink" title="四、Storm安装部署"></a>四、Storm安装部署</h1><p>（完全分布式）</p>
<p>环境：zookeeper集群（node00，node01，node02）</p>
<p>1、解压安装</p>
<p>版本：apache-storm-0.10.0.tar.gz</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zvxf apache-storm-0.10.0.tar.gz</span><br></pre></td></tr></table></figure>
<p>2、在storm目录中创建logs目录</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir logs</span><br></pre></td></tr></table></figure>
<p>3、编辑配置文件解压路径/config/storm.yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">storm.zookeeper.servers:</span><br><span class="line">- &quot;node00&quot;</span><br><span class="line">- &quot;node01&quot;</span><br><span class="line">- &quot;node02&quot;</span><br><span class="line">storm.local.dir: &quot;/opt/storm&quot;</span><br><span class="line">nimbus.host: “node00&quot;</span><br><span class="line">supervisor.slots.ports:</span><br><span class="line">- 6700</span><br><span class="line">- 6701</span><br><span class="line">- 6702</span><br><span class="line">- 6703</span><br></pre></td></tr></table></figure>
<p>将安装包发送到其他节点</p>
<p>4、启动服务</p>
<p>（1）启动zookeeper‘</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zkServer.sh start</span><br></pre></td></tr></table></figure>
<p>(2)启动nimbus（在node00上：storm安装目录下）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup ./bin/storm nimbus &gt;&gt; ./logs/nimbus.out 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure>
<p><code>nohup</code>:防止被操作系统意外挂起</p>
<p><code>2&gt;&amp;1</code>：标准错误输出重定向</p>
<p><code>&amp;</code>：后台运行</p>
<p>(3)启动supervisor（在node01 ，node02上：storm安装目录下）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./bin/storm supervisor&gt;&gt; ./logs/supervisor.out 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure>
<p>(4)查看进程 ：jps</p>
<p>显示：</p>
<p>node00：</p>
<blockquote>
<p>[root@node00 apache-storm-0.10.0]# jps<br>8869 QuorumPeerMain<br>9093 Jps<br>9083 config_value</p>
</blockquote>
<p>node01 、 node02</p>
<blockquote>
<p>[root@node01 apache-storm-0.10.0]# jps<br>7280 config_value<br>7290 Jps<br>7230 QuorumPeerMain</p>
</blockquote>
<p>且三个节点的logs目录下也相应的生成了指定的日志文件</p>
<p>5、Storm UI（从浏览器访问，在前台页面上查看详情）</p>
<p>（1）启动服务（可在node00节点：storm安装目录）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./bin/storm ui &gt;&gt; ./logs/ui.out 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure>
<p>（2）浏览器访问</p>
<blockquote>
<p><a href="http://node00:8080" target="_blank" rel="noopener">http://node00:8080</a></p>
</blockquote>
<h1 id="五、Storm重点概念详解"><a href="#五、Storm重点概念详解" class="headerlink" title="五、Storm重点概念详解"></a>五、Storm重点概念详解</h1><h2 id="1、grouping"><a href="#1、grouping" class="headerlink" title="1、grouping"></a>1、grouping</h2><p> 数据流分组（即数据分发策略）</p>
<h2 id="2、并发机制"><a href="#2、并发机制" class="headerlink" title="2、并发机制"></a>2、并发机制</h2><p>topology<br>负载均衡</p>
<h2 id="3、容错机制"><a href="#3、容错机制" class="headerlink" title="3、容错机制"></a>3、容错机制</h2><h2 id="4、demoAPI"><a href="#4、demoAPI" class="headerlink" title="4、demoAPI"></a>4、demoAPI</h2><p>Storm WordCount（数据累加）</p>
<h2 id="5、与MapReduce的区别"><a href="#5、与MapReduce的区别" class="headerlink" title="5、与MapReduce的区别"></a>5、与MapReduce的区别</h2><table>
<thead>
<tr>
<th style="text-align:center">Storm</th>
<th style="text-align:center">MapReduce</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">流式处理</td>
<td style="text-align:center">批处理</td>
</tr>
<tr>
<td style="text-align:center">（毫）秒级</td>
<td style="text-align:center">分钟级</td>
</tr>
<tr>
<td style="text-align:center">DAG模型</td>
<td style="text-align:center">Map+Reduce模型</td>
</tr>
<tr>
<td style="text-align:center">常驻内存运行</td>
<td style="text-align:center">反复启停</td>
</tr>
</tbody>
</table>
<h2 id="6、和Spark-Streaming的区别"><a href="#6、和Spark-Streaming的区别" class="headerlink" title="6、和Spark Streaming的区别"></a>6、和Spark Streaming的区别</h2><table>
<thead>
<tr>
<th style="text-align:center">Storm</th>
<th style="text-align:center">Spark Streaming</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">流式处理</td>
<td style="text-align:center">微批处理</td>
</tr>
<tr>
<td style="text-align:center">（毫）秒级</td>
<td style="text-align:center">秒级</td>
</tr>
<tr>
<td style="text-align:center">成熟稳定</td>
<td style="text-align:center">稳定性改进中</td>
</tr>
<tr>
<td style="text-align:center">独立系统                           专为流式计算设计</td>
<td style="text-align:center">Spark核心的一种计算模型能与其他组件很好的结合</td>
</tr>
</tbody>
</table>
<p><strong>小记</strong></p>
<p>1、storm源码中包含后缀名为<code>.clj</code>的文件，这是一种Clojure编程语言，它是一种运行在JVM上的Lisp方言。而Lisp是一种以表达性和功能强大著称的编程语言。</p>
<p>2、阿里巴巴在Storm的基础上使用Java代码并做了相关的改进，开发了JStorm，和Storm一样都是开源的。（反哺行为，包括将Flink→Blink）</p>
<p>$$</p>
<p><div id="flowchart-0" class="flow-chart"></div><br>$$</p>
<p><script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.2.7/raphael.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/flowchart/1.6.5/flowchart.min.js"></script><textarea id="flowchart-0-code" style="display: none">st=>start: Start|past:>http://www.google.com[blank]
e=>end: End:>http://www.google.com
op1=>operation: My Operation|past
op2=>operation: Stuff|current
sub1=>subroutine: My Subroutine|invalid
cond=>condition: Yes
or No?|approved:>http://www.google.com
c2=>condition: Good idea|rejected
io=>inputoutput: catch something...|request

st->op1(right)->cond
cond(yes, right)->c2
cond(no)->sub1(left)->op1
c2(yes)->io->e
c2(no)->op2->e</textarea><textarea id="flowchart-0-options" style="display: none">{"scale":1,"line-width":2,"line-length":50,"text-margin":10,"font-size":12}</textarea><script>  var code = document.getElementById("flowchart-0-code").value;  var options = JSON.parse(decodeURIComponent(document.getElementById("flowchart-0-options").value));  var diagram = flowchart.parse(code);  diagram.drawSVG("flowchart-0", options);</script></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/分布式框架/">分布式框架</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Storm，流式处理框架/">Storm，流式处理框架</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











<!--gitment 评论-->

<!--gitment 评论 end-->
  
    <article id="post-Spark学习" class="article article-type-post" itemscope="" itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/01/18/Spark学习/" class="article-date">
      <time datetime="2019-01-17T16:00:00.000Z" itemprop="datePublished">2019-01-18</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/01/18/Spark学习/">Spark学习</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>一、Spark简介</p>
<p>大数据分析引擎：计算框架</p>
<p>快速（100倍）:用于逻辑回归算法（机器学习）,迭代算法（在计算结果的基础上再计算）时：中间结果值在内存中流转，屏蔽磁盘开销；DAG调度</p>
<p>mr：离线，（迭代时：磁盘IO，较慢）</p>
<p>storm：流式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Spark/">Spark</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux系统环境/">Linux系统环境</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











<!--gitment 评论-->

<!--gitment 评论 end-->
  
    <article id="post-Flume学习" class="article article-type-post" itemscope="" itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/01/18/Flume学习/" class="article-date">
      <time datetime="2019-01-17T16:00:00.000Z" itemprop="datePublished">2019-01-18</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/01/18/Flume学习/">Flume学习</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              Welcome to BD Family! This is my latest post.
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/HDFS/">HDFS</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/flume/">flume</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a href="/2019/01/18/Flume学习/#more">阅读全文 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











<!--gitment 评论-->

<!--gitment 评论 end-->
  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2016-2019 Sukie
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="快速、简洁且高效的博客框架">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="简而不减 Hexo 双栏博客主题  v3.5">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style="display:none">
                        <span id="site-visit" title="本站到访数"><i class="fa fa-user" aria-hidden="true"></i><span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>| </span>
                
                
                    <span id="busuanzi_container_page_pv" style="display:none">
                        <span id="page-visit" title="本页阅读量"><i class="fa fa-eye animated infinite pulse" aria-hidden="true"></i><span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
    
    <script src="/js/GithubRepoWidget.js"></script>

<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 5;
                var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>


    

     




    <script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


<div class="scroll" id="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window
    
        var oOpenInNew = {
             github: ".github-widget a", 
            
            
            
            
            
             archives: ".archive-article-title", 
             miniArchives: "a.post-list-link", 
            
             friends: "#js-friends a", 
             socail: ".social a" 
        }
        for (var x in oOpenInNew) {
            $(oOpenInNew[x]).attr("target", "_blank");
        }
    
</script>

    <script>
        var originTitle = document.title;
        var titleTime;
        document.addEventListener("visibilitychange", function() {
            if (document.hidden) {
                document.title = "(つェ⊂) 我藏好了哦~ " + originTitle;
                clearTimeout(titleTime);
            }
            else {
                document.title = "(*´∇｀*) 被你发现啦~ " + originTitle;
                titleTime = setTimeout(function() {
                    document.title = originTitle;
                }, 2000);
            }
        })
    </script>

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>